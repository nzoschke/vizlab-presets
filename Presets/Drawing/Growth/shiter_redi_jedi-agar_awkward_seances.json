{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.925,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_brighten":0,"wave_a":100,"wave_scale":2.381,"wave_smoothing":0.45,"modwavealphastart":0.5,"modwavealphaend":1,"warpscale":1.331,"fshader":0.06,"zoom":0.99951,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.035,"ob_r":1,"ob_g":1,"ob_b":0.9,"ob_a":0.03,"ib_size":0,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;","frame_eqs_str":"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,100);a.a=above(a.bass+a.mid+a.treb,.8);a.r=div(Math.floor(rand(100)),100);a.g=div(Math.floor(rand(100)),\n100);a.b=div(Math.floor(rand(100)),100);a.r2=div(Math.floor(rand(100)),100);a.g2=div(Math.floor(rand(100)),100);a.b2=div(Math.floor(rand(100)),100);a.r_border=div(Math.floor(rand(100)),100);a.g_border=div(Math.floor(rand(100)),100);a.b_border=div(Math.floor(rand(100)),100);","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;\nrad=(bass+treb)/100;\na=(above(bass+mid+treb,.8));\nr=int(rand(100))/100;\ng=int(rand(100))/100;\nb=int(rand(100))/100;\nr2=int(rand(100))/100;\ng2=int(rand(100))/100;\nb2=int(rand(100))/100;\nr_border=int(rand(100))/100;\ng_border=int(rand(100))/100;\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"num_inst":1024,"x":0.38,"y":0.28,"rad":0.03646,"tex_zoom":1.54929,"r":0,"g2":0,"a2":1,"border_a":0},"init_eqs_str":"a.i=0;a.x1=0;a.y1=0;a.zoom=0;a.q2=0;a.q6=0;","frame_eqs_str":"a.i=2*(a.instance+3072);a.x1=a.gmegabuf[Math.floor(a.i)];a.y1=a.gmegabuf[Math.floor(a.i+1)];a.zoom=a.q2;a.rad*=.1;a.y=.5+a.zoom*a.x1;a.x=.5+div(a.zoom*a.y1,a.q6);a.x=(Math.floor(a.x)-a.x+mod(a.x,2))*pow(-1,1+Math.floor(a.x));a.y=(Math.floor(a.y)-a.y+mod(a.y,2))*pow(-1,1+Math.floor(a.y));","init_eqs_eel":"","frame_eqs_eel":"i=2*(instance+3072);    \n\nx1=gmegabuf(i);   y1=gmegabuf(i+1);\n\nzoom=q2;\n\nrad=.1*rad;\ny= .5+zoom*x1;      \nx= .5+zoom*y1/q6;\n\nx= (int(x)-x+x%2)*pow(-1,1+int(x));\ny= (int(y)-y+y%2)*pow(-1,1+int(y));"},{"baseVals":{"enabled":1,"sides":3,"thickoutline":1,"textured":1,"num_inst":311,"rad":0.01,"tex_ang":0.62832,"r":0,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;a.pi23=0;a.t1=0;","frame_eqs_str":"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.tan(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=1-a.mx;a.y=1-a.my;a.ang=3*(Math.sin(.35*a.time)+1);a.pi23=1.333333332*Math.asin(1);a.t1=a.bass+a.mid+a.treb;","init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*tan(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=1-mx;\ny=1-my;\n\nang=(sin(time*.35)+1)*3;\n//a=(above(bass+mid+treb,.8));\npi23=4*asin(1)*.333333333;\nt1=bass+mid+treb;"},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":256,"usedots":1,"thick":1,"scaling":1.02796,"smoothing":0,"r":0.3,"b":0.3,"a":0.5},"init_eqs_str":"a.q4=0;a.q3=0;","frame_eqs_str":"","point_eqs_str":"a.r=0;a.g=0;a.b=0;a.a=.1*a.sample+.01*a.bass_att;a.x=a.value1+.5+a.y*Math.cos(2*a.q4)*.3;a.y=a.value2+.5+.3*Math.cos(2*a.q3);","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"r=0;g=0;b=0;\na=sample*.1+bass_att*.01;\nx=value1+.5+y*cos(q4*2)*.3;\ny=value2+.5+cos(q3*2)*.3;\n"},{"baseVals":{"a":0.5,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"thick":1,"scaling":1.02796,"smoothing":0,"r":0,"g":0,"b":0.4,"enabled":0},"init_eqs_str":"//pi\n//t8=3.14159265*0.15;\n//t5 = 1;\n\n//n =300;\nt1 = 300;\n//rx = 0;\nt2 = 0;\n//ry = 0;\nt3 = 0;\n//tpi =3.1415;\nt4 = 3.14159265;\n//c=1;\nt5 = 1;\n//hu=10;\nt6 = 10;\n//hut=-10;\nt7 = -10;","frame_eqs_str":"t7 = 0.5+0.5*y*cos(q3*0.135)*t4;\nt6 = (t7+t6*5)/6;\nt2 =  y*cos(q5-q4)*-q8*.1 + oldt2;\noldt2 = if(above(t2,10000),0,t2);\n//t2 = t2 -cos(time*0.451);\nt3 = y*cos(q3-q6)*q8*.1 +oldt3;\noldt3 = t3;\n//t3 = t3-cos(time*0.321);\nq1 = -cos(cos(t2));\nq2 = -cos(t3);\nq3 = y*cos(cos(t2));\nq4 = y*cos(t3);","point_eqs_str":"u = sample*2-1;\nrf = 1000+value1*10;\nshc = 1-u*u;\ncf = below(sample,0.45);\nu=if(cf,sqrt(shc)*(-u/2+0.5), if(below(sample,0.55), (sample-0.45)*15+0.1, pow(shc,0.7)*1.5));\nu = u + v/8;\npx = cos(sample*t4*rf)*u/2+cos(t6)+1.5;\npy = -sample*2+1;\npz = y*cos(sample*t4*rf)*u/2+2.9;\ny1 = py*q1 + pz*q3;\nz1 = pz*q1 - py*q3;\nx2 = px*q2 + z1*q4;\nz2 = z1*q2 - px*q4+5;\nx = x2/z2;\ny = y1/z2;\nx = x*0.5 + 0.5;\ny = 0.5*y + 0.5;\nr = abs(sample-(sample*y*cos(q3*.1)));\ng = sample/y;\nb = x2*sample;","init_eqs_eel":"//pi\n//t8=3.14159265*0.15;\n//t5 = 1;\n\n//n =300;\nt1 = 300;\n//rx = 0;\nt2 = 0;\n//ry = 0;\nt3 = 0;\n//tpi =3.1415;\nt4 = 3.14159265;\n//c=1;\nt5 = 1;\n//hu=10;\nt6 = 10;\n//hut=-10;\nt7 = -10;","frame_eqs_eel":"t7 = 0.5+0.5*y*cos(q3*0.135)*t4;\nt6 = (t7+t6*5)/6;\nt2 =  y*cos(q5-q4)*-q8*.1 + oldt2;\noldt2 = if(above(t2,10000),0,t2);\n//t2 = t2 -cos(time*0.451);\nt3 = y*cos(q3-q6)*q8*.1 +oldt3;\noldt3 = t3;\n//t3 = t3-cos(time*0.321);\nq1 = -cos(cos(t2));\nq2 = -cos(t3);\nq3 = y*cos(cos(t2));\nq4 = y*cos(t3);","point_eqs_eel":"u = sample*2-1;\nrf = 1000+value1*10;\nshc = 1-u*u;\ncf = below(sample,0.45);\nu=if(cf,sqrt(shc)*(-u/2+0.5), if(below(sample,0.55), (sample-0.45)*15+0.1, pow(shc,0.7)*1.5));\nu = u + v/8;\npx = cos(sample*t4*rf)*u/2+cos(t6)+1.5;\npy = -sample*2+1;\npz = y*cos(sample*t4*rf)*u/2+2.9;\ny1 = py*q1 + pz*q3;\nz1 = pz*q1 - py*q3;\nx2 = px*q2 + z1*q4;\nz2 = z1*q2 - px*q4+5;\nx = x2/z2;\ny = y1/z2;\nx = x*0.5 + 0.5;\ny = 0.5*y + 0.5;\nr = abs(sample-(sample*y*cos(q3*.1)));\ng = sample/y;\nb = x2*sample;"},{"baseVals":{"usedots":1,"scaling":1.02796,"smoothing":0,"r":0.3,"b":0.3,"enabled":0},"init_eqs_str":"//pi\n//t8=3.14159265*0.15;\n//t5 = 1;\n\n//n =300;\nt1 = 300;\n//rx = 0;\nt2 = 0;\n//ry = 0;\nt3 = 0;\n//tpi =3.1415;\nt4 = 3.14159265;\n//c=1;\nt5 = 1;\n//hu=10;\nt6 = 10;\n//hut=-10;\nt7 = -10;","frame_eqs_str":"t7 = 0.5+0.5*y*cos(q6)*t4;\nt6 = (t7+t6*5)/6;\nt2 = y*cos(q4*.15-q6)*-q8 +oldt2;\noldt2 = t2;\n//t2 = 3*y*cos(time*0.0965);\nt3 = y*cos(q5-q3*.12)*q8 + oldt3;\noldt3 = t3;\n//t3 =  3*y*cos(time*0.0872);\n\nq1 = -cos(cos(t2));\nq2 = cos(-t3);\nq3 = y*cos(cos(-t2));\nq4 = y*cos(t3);","point_eqs_str":"u = sample*2-1;\nrf = 512;\nshc = 1-u*u;\ncf = below(sample,0.45);\nu=if(cf,sqrt(shc)*(-u/2+0.5), if(below(sample,0.55), (sample-0.45)*15+0.1, pow(shc,0.7)*1.5));\nu = u + v/8;\npx = cos(sample*t4*rf)*u/2+cos(t6)+1.5;\npy = -sample*2+1;\npz = y*cos(sample*t4*rf)*u/2+2.9;\ny1 = py*q1 + pz*q3;\nz1 = pz*q1 - py*q3;\nx2 = px*q2 + z1*q4;\nz2 = z1*q2 - px*q4+5;\nx = x2/z2;\ny = y1/z2;\nx = x*0.5 + 0.5;\ny = 0.5*y + 0.5;\nr = 0.5+y*cos(sample*195-q6)*0.5;\ng = 0.5*y*cos(q4*0.145)+0.499*(0.5+y*cos(x*95)*0.5);\nb = 0.5*y*cos(q3*0.1876)+0.495*(0.5+y*cos(y*208)*0.5);","init_eqs_eel":"//pi\n//t8=3.14159265*0.15;\n//t5 = 1;\n\n//n =300;\nt1 = 300;\n//rx = 0;\nt2 = 0;\n//ry = 0;\nt3 = 0;\n//tpi =3.1415;\nt4 = 3.14159265;\n//c=1;\nt5 = 1;\n//hu=10;\nt6 = 10;\n//hut=-10;\nt7 = -10;","frame_eqs_eel":"t7 = 0.5+0.5*y*cos(q6)*t4;\nt6 = (t7+t6*5)/6;\nt2 = y*cos(q4*.15-q6)*-q8 +oldt2;\noldt2 = t2;\n//t2 = 3*y*cos(time*0.0965);\nt3 = y*cos(q5-q3*.12)*q8 + oldt3;\noldt3 = t3;\n//t3 =  3*y*cos(time*0.0872);\n\nq1 = -cos(cos(t2));\nq2 = cos(-t3);\nq3 = y*cos(cos(-t2));\nq4 = y*cos(t3);","point_eqs_eel":"u = sample*2-1;\nrf = 512;\nshc = 1-u*u;\ncf = below(sample,0.45);\nu=if(cf,sqrt(shc)*(-u/2+0.5), if(below(sample,0.55), (sample-0.45)*15+0.1, pow(shc,0.7)*1.5));\nu = u + v/8;\npx = cos(sample*t4*rf)*u/2+cos(t6)+1.5;\npy = -sample*2+1;\npz = y*cos(sample*t4*rf)*u/2+2.9;\ny1 = py*q1 + pz*q3;\nz1 = pz*q1 - py*q3;\nx2 = px*q2 + z1*q4;\nz2 = z1*q2 - px*q4+5;\nx = x2/z2;\ny = y1/z2;\nx = x*0.5 + 0.5;\ny = 0.5*y + 0.5;\nr = 0.5+y*cos(sample*195-q6)*0.5;\ng = 0.5*y*cos(q4*0.145)+0.499*(0.5+y*cos(x*95)*0.5);\nb = 0.5*y*cos(q3*0.1876)+0.495*(0.5+y*cos(y*208)*0.5);"}],"init_eqs_str":"a.avgdb2=0;a.bc2=0;a.mtime2=0;a.beatb=0;a.q12=0;a.t1=0;a.q22=0;a.q21=0;a.q15=0;a.q6=0;a.dt=0;a.rbeatb=0;a.q1=0;a.q5=0;a.avgvol=0;a.q9=0;a.x=0;a.avgdt2=0;a.rbeatb2=0;a.avgdt=0;a.q23=0;a.lbt2=0;a.q11=0;a.beatb2=0;a.q10=0;a.bool=0;a.ph=0;a.ph2=0;a[\"const\"]=0;a.q4=0;a.lbass=0;a.t=0;a.p2=0;a.avgbr=0;a.i=0;a.lbt=0;a.y=0;a.rawbeatb=0;a.avgbr2=0;a.db=0;a.t2=0;a.vol=0;a.p1=0;a.bc=0;a.phase2=0;a.const2=0;a.q2=0;a.q14=0;a.ltreb=0;a.phase=0;a.speed=0;a.q3=0;a.s1=0;a.t0=0;a.s2=0;a.q7=0;\na.c=0;a.q30=0;a.q20=0;a.mtime=0;a.q8=0;a.bool2=0;a.avgdb=0;for(var b=a.i=0;1E4>b;b++)a.gmegabuf[Math.floor(a.i)]=0,a.i+=1;a.t=0;a.t0=a.time;a.db=.001;a.dt=.001;a.avgdb=5*Math.abs(a.bass-a.bass_att);a.avgdt=5*Math.abs(a.treb-a.treb_att);a.avgdb2=10*Math.abs(a.bass-a.bass_att);a.avgdt2=10*Math.abs(a.treb-a.treb_att);a.lbass=a.bass_att;a.ltreb=a.treb_att;a.avgbr=1;a.avgbr2=1;a.beatb=0;a.beatb2=0;a.lbt2=a.time;a.lbt=a.time;a.rawbeatb=0;a.rawbeatb2=0;a.vol=0;a.avgvol=1;a.ph=0;a.phase=0;a.bool=0;a[\"const\"]=\n.01;a.ph2=0;a.phase2=0;a.bool2=0;a.const2=.01;a.mtime=100+1E3*a.bass_att;a.mtime2=100+1E3*a.treb_att;","frame_eqs_str":"a.db=(a.bass-a.lbass)*a.fps;a.dt=(a.treb-a.ltreb)*a.fps;a.ltreb=a.treb;a.lbass=a.bass;a.avgdb=.9*a.avgdb+.1*Math.abs(a.db);a.avgdt=.9*a.avgdt+.1*Math.abs(a.dt);a.avgdb2=.99*a.avgdb2+.01*Math.abs(a.db);a.avgdt2=.99*a.avgdt2+.01*Math.abs(a.dt);a.rbeatb=above(a.avgdb,1.618*a.avgdb2);a.rbeatb2=above(a.avgdt,1.618*a.avgdt2);a.beatb=a.rbeatb*above(a.time-a.lbt,.75*a.avgbr);a.beatb2=a.rbeatb2*above(a.time-a.lbt2,.75*a.avgbr2);a.avgbr=a.beatb*(.99*a.avgbr+.01*(a.time-a.lbt))+(1-a.beatb)*\n(a.avgbr+.00001*(3-a.avgbr));a.avgbr2=a.beatb2*(.99*a.avgbr2+.01*(a.time-a.lbt2))+(1-a.beatb2)*(a.avgbr2+.00001*(3-a.avgbr2));a.lbt=a.time*a.beatb+(1-a.beatb)*a.lbt;a.lbt2=a.time*a.beatb2+(1-a.beatb2)*a.lbt2;a.ph=(a.time-a.lbt)*div(60,a.avgbr)*a[\"const\"];a.phase=Math.max(Math.min(a.ph,1),0);a[\"const\"]=a[\"const\"]*(1-a.beatb)+a.beatb*(a[\"const\"]+.002*a.bool);a.bool=below(a.phase,.98)*(.98-a.ph)-.5*above(a.phase,.98)*a.ph;a.ph2=(a.time-a.lbt2)*div(60,a.avgbr2)*a.const2;a.phase2=Math.max(Math.min(a.ph2,\n1),0);a.const2=a.const2*(1-a.beatb2)+a.beatb2*(a.const2+.002*a.bool2);a.bool2=below(a.phase2,.98)*(.98-a.ph2)-.5*above(a.phase2,.98)*a.ph2;a.bc+=a.beatb;a.bc2+=a.beatb2;a.vol=a.rawbeatb*Math.abs(a.db)*.001;a.avgvol=.999*a.avgvol+.01*a.vol;a.mtime+=a.avgdb*a.avgbr*.1*div(1,a.fps);a.mtime2+=a.avgdt*a.avgbr2*.1*div(1,a.fps);a.q1=1-a.phase;a.q2=1-a.phase2;a.q3=a.bc;a.q4=a.bc2;a.q5=a.mtime;a.q6=a.mtime2;a.q7=.5*Math.sin(a.mtime)+.5;a.q8=.5*Math.sin(a.mtime2)+.5;a.q9=.5*Math.sin(.01*a.mtime)+.5;a.q10=.5*\nMath.sin(.01*a.mtime2)+.5;a.q11=a.avgdb;a.q12=a.avgdt;a.q14=div(60,a.avgbr);a.q15=div(60,a.avgbr2);a.q20=a.beatb;a.q21=a.beatb2;a.q22=mod(a.bc,4);a.q23=mod(a.bc2,4);a.monitor=a.bc;a.decay=1;a.warp=0;a.wrap=1;a.zoom=1;a.wave_a=0;a.warp=0;a.q6=a.aspecty;a.t+=div(.001,a.fps);a.c=bnot(mod(a.frame,3));a.s1=15+5*Math.sin(a.t);a.s2=100*Math.sin(a.t);a.i=0;a.x=0;a.y=0;a.p1=0;for(var b=a.p2=0;b<4096*a.c;b++)a.p1=a.s1*Math.sin(a.i*a.s2),a.p2=-a.s1*Math.cos(a.i*a.s2)+a.p1-a.p2,a.x+=Math.sin(a.p2),a.y+=Math.cos(a.p2),\na.gmegabuf[Math.floor(2*a.i)]=a.x,a.gmegabuf[Math.floor(2*a.i+1)]=a.y,a.i+=1;a.zoom=above(a.time-a.t0,.1);a.speed=25;a.t2+=div(1,a.fps);a.decay=1-a.t1;a.t1+=div(2*equal(mod(.1*a.t2*a.speed,20),0),a.fps);a.t1*=above(.2,mod(.1*a.t2*a.speed,20));a.monitor=a.s2;a.q2=.004;a.q30=2*(a.bass+a.treb+a.mid);a.zoom=1-(1-pow(2,.0031*(a.bass+a.treb+a.mid)));","pixel_eqs_str":"","init_eqs_eel":"//prma init\ni=0;  \nloop(10000, gmegabuf(i)=0;\ni=i+1;);\nt=0;\nt0=time;\n\ndb=.001;\ndt=.001;\navgdb=abs(bass-bass_att)*5;\navgdt=abs(treb-treb_att)*5;\navgdb2=abs(bass-bass_att)*10;\navgdt2=abs(treb-treb_att)*10;\nlbass=bass_att;\nltreb=treb_att;\n\navgbr=1;\navgbr2=1;\nbeatb=0;\nbeatb2=0;\nlbt2=time;\nlbt=time;\nrawbeatb=0;\nrawbeatb2=0;\nvol=0;\navgvol=1;\nph=0;\nphase=0;\nbool=0;\nconst=.01;\nph2=0;\nphase2=0;\nbool2=0;\nconst2=.01;\n\nmtime=100+bass_att*1000;\nmtime2=100+treb_att*1000;","frame_eqs_eel":"db=(bass-lbass)*fps;\ndt=(treb-ltreb)*fps;\n\nltreb=treb;\nlbass=bass;\n\navgdb=avgdb*.9+abs(db)*.1;\navgdt=avgdt*.9+abs(dt)*.1;\n\navgdb2=avgdb2*.99+abs(db)*.01;\navgdt2=avgdt2*.99+abs(dt)*.01;\n\n\n//beatdection\n//rbeatb=above(abs(db),avgdb*3);\n//rbeatb2=above(abs(dt),avgdt*3);\nrbeatb=above(avgdb,avgdb2*1.618);\nrbeatb2=above(avgdt,avgdt2*1.618);\n\nbeatb=rbeatb*above(time-lbt,avgbr*.75);\nbeatb2=rbeatb2*above(time-lbt2,avgbr2*.75);\n\n//beatrate calc\navgbr=beatb*(avgbr*.99+(time-lbt)*.01)+(1-beatb)*(avgbr+(3-avgbr)*.00001); // avg beat rate\navgbr2=beatb2*(avgbr2*.99+(time-lbt2)*.01)+(1-beatb2)*(avgbr2+(3-avgbr2)*.00001);\n\nlbt=time*beatb+(1-beatb)*lbt; //last beat time\nlbt2=time*beatb2+(1-beatb2)*lbt2;\n\n\nph=(time-lbt)*(60/avgbr)*const;\nphase=max(min( ph, 1 ),0);\nconst=const*(1-beatb)+beatb*( const+ (.002*bool) );\nbool=below(phase,.98)*(.98-ph)-above(phase,.98)*(ph*.5);\n\nph2=(time-lbt2)*(60/avgbr2)*const2;\nphase2=max(min( ph2, 1 ),0);\nconst2=const2*(1-beatb2)+beatb2*( const2+ (.002*bool2) );\nbool2=below(phase2,.98)*(.98-ph2)-above(phase2,.98)*(ph2*.5);\n\n\n\nbc=bc+beatb;\nbc2=bc2+beatb2;\nvol=(rawbeatb*abs(db)*.001);\navgvol=avgvol*.999+vol*.01;\n\nmtime=mtime+( (avgdb*avgbr)*.1 )*(1/fps);\nmtime2=mtime2+( (avgdt*avgbr2)*.1 )*(1/fps);\nq1=1-phase;\nq2=1-phase2;\nq3=bc;\nq4=bc2;\n\n\n\nq5=mtime;\nq6=mtime2;\nq7=sin(mtime)*.5+.5;\nq8=sin(mtime2)*.5+.5;\nq9=sin(mtime*.01)*.5+.5;\nq10=sin(mtime2*.01)*.5+.5;\nq11=avgdb;\nq12=avgdt;\n\nq14=60/avgbr;\nq15=60/avgbr2;\nq20=beatb;\nq21=beatb2;\nq22=bc%4;\nq23=bc2%4;\nmonitor=bc;\ndecay=1;\nwarp=0;\nwrap=1;\nzoom=1;\n\n//dx=.002;\n//prma\nwave_a=0;        warp=0;        q6=aspecty; \nt=t+.001/fps;     c=bnot(frame%3);\ns1=15+5*sin(t);         s2=100*sin(t);\ni=0;    x=0;     y=0;    p1=0;    p2=0;\nloop(1024*c*4,\np1 = s1*sin(i*s2);   \np2 = -s1*cos(i*s2)+p1-p2;\nx=x+sin(p2);         y=y+cos(p2);\ngmegabuf(2*i)=x;      gmegabuf(2*i+1)=y;\ni=i+1;);\n///////////\nzoom=above(time-t0,.1);\nspeed = 25; //// tweak\nt2=t2+1/fps;\ndecay=1-t1;\nt1=t1+2*equal((.1*t2*speed)%20,0)/fps;\nt1=t1*above(0.2,(.1*t2*speed)%20);\nmonitor=s2;\nq2=.004;\n\nq30=(bass+treb+mid)*2;\n\nzoom=1-(1-pow(2,(bass+treb+mid)*.0031));","pixel_eqs_eel":"//zoom=1+(q9*y-q8*x+sin(ang+q5))*.01;\n//rot=sin( (q6*x-q7*y)*6 - q5*.01 )*.1;","warp":" shader_body { \n  float conway_1;\n  vec3 ret_2;\n  ret_2 = ((texture (sampler_main, uv_orig).xyz * vec3(0.97, 1.0, 0.97)) - vec3(0.03, 0.0, 0.03));\n  vec4 tmpvar_3;\n  tmpvar_3 = texture (sampler_blur1, uv_orig);\n  ret_2.z = (ret_2.z + ((\n    (tmpvar_3.xyz * scale1)\n   + bias1).z * 0.45));\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_blur3, uv_orig);\n  ret_2.x = (ret_2.x + ((\n    ((tmpvar_3.xyz * scale1) + bias1)\n  .z * 0.05) + (\n    ((tmpvar_4.xyz * scale3) + bias3)\n  .z * 0.05)));\n  ret_2.z = (ret_2.z - ret_2.x);\n  vec4 tmpvar_5;\n  tmpvar_5 = texture (sampler_pw_main, uv_orig);\n  ret_2.y = clamp (tmpvar_5.y, 0.0, 1.0);\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).y + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(0.0, 1.0) * texsize.zw))).y);\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).y);\n  float tmpvar_6;\n  tmpvar_6 = (((q5 * \n    (1.0 - ((tmpvar_3.xyz * scale1) + bias1).y)\n  ) * (1.0 - \n    ((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2)\n  .y)) * (1.0 - (\n    (tmpvar_4.xyz * scale3)\n   + bias3).y));\n  conway_1 = (conway_1 - tmpvar_5.x);\n  if ((conway_1 > 1.0)) {\n    float tmpvar_7;\n    tmpvar_7 = clamp (ret_2.y, 0.0, 1.0);\n    if ((tmpvar_7 == 0.0)) {\n      ret_2.y = floor((tmpvar_6 * 99.0));\n    };\n  };\n  ret_2.z = (1.0 - ret_2.z);\n  ret_2.y = (ret_2.y - ret_2.x);\n  ret_2 = (ret_2 - ((bass / 7.0) - (mid / 11.2)));\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = ret_2;\n  ret = tmpvar_8.xyz;\n }","comp":" shader_body { \n  vec3 ret_1;\n  vec3 tmpvar_2;\n  tmpvar_2.z = 0.0;\n  tmpvar_2.xy = texsize.zw;\n  vec3 tmpvar_3;\n  tmpvar_3 = (tmpvar_2 * 2.5);\n  ret_1 = (texture (sampler_main, uv).xyz * 0.5);\n  ret_1 = (ret_1 + (vec3(3.4, 2.38, 1.02) * (\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n   - \n    dot (((texture (sampler_blur1, (uv - tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n  )));\n  ret_1 = (ret_1 + (vec3(0.68, 1.7, 2.38) * (\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n   - \n    dot (((texture (sampler_blur1, (uv - tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\n  )));\n  ret_1 = (ret_1 * 1.5);\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ret_1;\n  ret = tmpvar_4.xyz;\n }","warp_hlsl":"sampler sampler_rand02;\nfloat4  texsize_rand02;    // ...it's smart enough to get it from just this.\nshader_body\n{\n    // sample previous frame\n    float3 main = tex2D( sampler_main, uv ).xyz;\n    float3 mblur = GetBlur1( uv );\n    main = ( (main-mblur*.5)*3 );\n    float zoom = 1+.5*( (q9*uv_orig.y-q8*uv_orig.x)*6+rad*sin(ang+2-q3-q4)*mblur.z*3)*(.01+(q1-q2)*.01);\n    float rot = (mblur.y-mblur.x)*(q7-q8)*.5;\n    float2 zcr = float2(.5,.5);\n    float2 cr = float2(.5,.5);\n    float2 newuv = uv;\n\n    ///////////////////rotation////////////////\n    newuv = uv - cr;\n    float s = sin(rot);\n    float c = cos(rot);\n    newuv = float2( (uv.x-cr.x)*c-(uv.y-cr.y)*s , (uv.x-cr.x)*s+(uv.y-cr.y)*c  );\n    newuv = newuv + cr;\n    ///////////////////rotation////////////////\n\n    ///////////////////zoom////////////////\n    newuv = newuv-zcr;\n    newuv = newuv * zoom;\n    newuv= newuv+zcr;\n    ///////////////////zoom////////////////\n\n\n    float3 colorwarp = tex2D( sampler_main, newuv );\n\n    float3 color = tex2D(sampler_rand02, newuv ).xyz;\n//    ret = ( (  (colorwarp*main*3-normalize(color)) ) );\n    ret= lerp(colorwarp,main*color,1-sin((color-colorwarp)*6));\nret.x=1-ret.x;\n    // darken (decay) over time\n    ret *= 0.96; //or try: ret -= 0.004;\n\n\nret.xyz = tex2D(sampler_main, uv_orig).xyz*float3(.97,1,.97) - float3(.03,0,.03);\n\nret.z += GetBlur1(uv_orig).z*.45;\nret.x += GetBlur1(uv_orig).z*.05 + GetBlur3(uv_orig).z*.05;\nret.z -= ret.x;\nret.y=1-ret.y;\n\nfloat2 pixelsize = texsize.zw;\nret.y = saturate(tex2D( sampler_pw_main,uv_orig).y);\n\nfloat1 conway = tex2D( sampler_pw_main, uv_orig + float2(-1,-1)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(0,-1)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(1,-1)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(-1,0)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(1,0)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(-1,1)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(0,1)*pixelsize).y;\n       conway += tex2D( sampler_pw_main, uv_orig + float2(1,1)*pixelsize).y;\n\nfloat1 test = q5*(1-GetBlur1(uv_orig).y)*(1-GetBlur2(uv_orig).y)*(1-GetBlur3(uv_orig).y);\n\nconway -= tex2D( sampler_pw_main, uv_orig).x;\n\n\nif (conway > 1) {\nif (saturate(ret.y) == 0) {\nret.y = floor(test*99)*1;\n}\n}\nret.z=1-ret.z;\n\nret.y -= ret.x;\n\nret.xyz -= bass/7-mid/11.2 ;\n}","comp_hlsl":"shader_body\n{\n    ret = tex2D(sampler_main, uv).xyz;    \n\n    float3 d = float3(texsize.zw, 0)*2.5;\n    float b1 = lum(GetBlur1(uv + d.xz));\n    float b2 = lum(GetBlur1(uv - d.xz));\n    float b3 = lum(GetBlur1(uv + d.zy));\n    float b4 = lum(GetBlur1(uv - d.zy));\n\n    ret *= 0.5; \n    ret += (b1-b2)*3.4*float3(1,0.7,0.3);\n    ret += (b3-b4)*3.4*float3(0.2,0.5,0.7);\n\n    ret *= 1.5;\n}"}