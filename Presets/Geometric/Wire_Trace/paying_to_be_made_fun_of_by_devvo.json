{"version":2,"baseVals":{"rating":5,"gammaadj":1.63,"decay":1,"echo_zoom":2.3,"echo_alpha":0.5,"echo_orient":1,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.012,"wave_smoothing":0.9,"warpscale":0.033,"zoom":0.97,"rot":-6.27999,"warp":0.931,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_r":1,"ob_g":1,"ob_b":1,"mv_x":12.8,"mv_y":9.6,"mv_l":1,"mv_r":0.41,"mv_g":0.7,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"rad":1.35581,"tex_ang":3.14159,"tex_zoom":0.73458,"r":0.99,"g":0.96,"b":0.83,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"","frame_eqs_str":"a.ang=.007*Math.sin(.5*a.time);","init_eqs_eel":"","frame_eqs_eel":"ang=sin(time*0.5)*0.007"},{"baseVals":{"enabled":1,"sides":5,"additive":1,"thickoutline":1,"rad":0.16446,"ang":3.95841,"r":0.01,"b":0.14,"g2":0,"border_b":0},"init_eqs_str":"","frame_eqs_str":"a.rad=div(a.bass,2);","init_eqs_eel":"","frame_eqs_eel":"rad=bass/2;"},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"r":0,"g":0,"b":0},"init_eqs_str":"a.advance=0;a.t1=0;a.advance2=0;a.t2=0;a.advance=0;a.advance2=0;","frame_eqs_str":"a.advance+=a.bass_att*a.bass_att*.002;a.advance=.00001<Math.abs(above(a.advance,2))?a.advance-2:a.advance;a.t1=a.advance;a.advance2+=a.mid_att*a.mid_att*.001;a.t2=a.advance2;","point_eqs_str":"a.x=.5+.5*a.sample*Math.sin(100*a.sample+10*a.time);a.y=.5+.5*a.sample*Math.cos(100*a.sample+10*a.time);a.r=.5+.5*Math.sin(50*a.sample+7*a.time);a.b=.5+.5*Math.sin(10*a.sample-15*a.time);a.g=.5+.5*Math.sin(30*a.sample+10*a.time);","init_eqs_eel":"advance=0;\nadvance2=0;","frame_eqs_eel":"advance=advance+ bass_att*bass_att*0.002;\nadvance=if( above(advance,2) , advance-2, advance);\nt1=advance;\n\n\nadvance2=advance2+ mid_att*mid_att*0.001;\nt2=advance2","point_eqs_eel":"x = .5+.25*(sample*2)*sin(sample*100+time*10);\ny = .5+.25*(sample*2)*cos(sample*100+time*10);\nr = .5+.5*sin(sample*50+time*7);\nb = .5+.5*sin(sample*10-time*15);\ng = .5+.5*sin(sample*30+time*10);"},{"baseVals":{"enabled":1,"thick":1,"additive":1},"init_eqs_str":"a.xp=0;a.s=0;a.yp=0;a.t1=0;a.advance=0;a.advance2=0;a.x_screen=0;a.y_screen=0;a.t2=0;a.zp=0;a.advance=0;a.advance2=0;","frame_eqs_str":"a.advance+=a.bass_att*a.bass_att*.002;a.advance=.00001<Math.abs(above(a.advance,2))?a.advance-2:a.advance;a.t1=a.advance;a.advance2+=a.mid_att*a.mid_att*.001;a.t2=a.advance2;","point_eqs_str":"a.s=6.28*a.sample;a.xp=Math.sin(a.s)+Math.sin(.34*a.s)+Math.sin(7.3*a.s+a.t2)+Math.sin(13.8*a.s);a.xp*=.15;a.yp=Math.cos(a.s)+Math.sin(.24*a.s)+Math.cos(5.4*a.s+a.t2)+Math.sin(17.7*a.s);a.yp*=.15;a.zp=Math.cos(a.s)+Math.cos(5.24*a.s)+Math.cos(14.4*a.s)+Math.cos(2.7*a.s);a.zp*=.25;a.zp=a.zp+1-a.t1;a.zp=.00001<Math.abs(below(a.zp,0))?a.zp+2:a.zp;a.a=.3*(1-.5*a.zp);a.a=.00001<Math.abs(below(a.a,0))?0:a.a;a.zp*=.7;a.x_screen=div(a.xp,a.zp)+.5;a.y_screen=div(a.yp,a.zp)+.5;a.x=a.x_screen;\na.y=a.y_screen;a.r=.2;a.g=.7;a.b=1;","init_eqs_eel":"advance=0;\nadvance2=0","frame_eqs_eel":"advance=advance+ bass_att*bass_att*0.002;\nadvance=if( above(advance,2) , advance-2, advance);\nt1=advance;\n\n\nadvance2=advance2+ mid_att*mid_att*0.001;\nt2=advance2","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.34)+sin(s*7.3+t2)+sin(s*13.8);\nxp=xp*0.15;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*5.4+t2)+sin(s*17.7);\nyp=yp*0.15;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24 )+cos(s*14.4)+cos(s*2.7);\nzp=zp*0.25;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5) * 0.3;\na=if( below(a,0), 0 , a);\n\nzp=zp*0.7;\n\nx_screen=xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=0.2;\ng=0.7;\nb=1.0;\n\n"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1},"init_eqs_str":"a.xp=0;a.s=0;a.yp=0;a.t1=0;a.advance=0;a.advance2=0;a.x_screen=0;a.y_screen=0;a.t2=0;a.zp=0;a.advance=0;a.advance2=0;","frame_eqs_str":"a.advance+=a.bass_att*a.bass_att*.002;a.advance=.00001<Math.abs(above(a.advance,2))?a.advance-2:a.advance;a.t1=a.advance;a.advance2+=a.mid_att*a.mid_att*.001;a.t2=a.advance2;","point_eqs_str":"a.s=6.28*a.sample;a.xp=Math.sin(a.s)+Math.sin(.34*a.s)+Math.sin(7.3*a.s+a.t2)+Math.sin(13.8*a.s);a.xp*=.15;a.yp=Math.cos(a.s)+Math.sin(.24*a.s)+Math.cos(5.4*a.s+a.t2)+Math.sin(17.7*a.s);a.yp*=.15;a.zp=Math.cos(a.s)+Math.cos(5.24*a.s)+Math.cos(14.4*a.s)+Math.cos(2.7*a.s);a.zp*=.25;a.zp=a.zp+1-a.t1;a.zp=.00001<Math.abs(below(a.zp,0))?a.zp+2:a.zp;a.a=2*(1-.5*a.zp);a.zp*=.7;a.x_screen=div(-a.xp,a.zp)+.5;a.y_screen=div(a.yp,a.zp)+.5;a.x=a.x_screen;a.y=a.y_screen;a.r=1;a.g=.7;a.b=\n.2;","init_eqs_eel":"advance=0;\nadvance2=0","frame_eqs_eel":"advance=advance+ bass_att*bass_att*0.002;\nadvance=if( above(advance,2) , advance-2, advance);\nt1=advance;\n\nadvance2=advance2+ mid_att*mid_att*0.001;\nt2=advance2;","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.34)+sin(s*7.3+t2)+sin(s*13.8);\nxp=xp*0.15;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*5.4+t2)+sin(s*17.7);\nyp=yp*0.15;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24 )+cos(s*14.4)+cos(s*2.7);\nzp=zp*0.25;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5)*2;\n\nzp=zp*0.7;\n\nx_screen=-xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=1;\ng=0.7;\nb=0.2;\n\n\n"},{"baseVals":{"enabled":1,"additive":1},"init_eqs_str":"a.xp=0;a.s=0;a.yp=0;a.t1=0;a.advance=0;a.advance2=0;a.x_screen=0;a.y_screen=0;a.t2=0;a.zp=0;a.advance=0;a.advance2=0;","frame_eqs_str":"a.advance+=a.bass_att*a.bass_att*.002;a.advance=.00001<Math.abs(above(a.advance,2))?a.advance-2:a.advance;a.t1=a.advance;a.advance2+=a.mid_att*a.mid_att*.001;a.t2=a.advance2;","point_eqs_str":"a.s=6.28*a.sample;a.xp=Math.sin(a.s)+Math.sin(.34*a.s)+Math.sin(7.3*a.s+a.t2)+Math.sin(13.8*a.s);a.xp*=.15;a.yp=Math.cos(a.s)+Math.sin(.24*a.s)+Math.cos(5.4*a.s+a.t2)+Math.sin(17.7*a.s);a.yp*=.15;a.zp=Math.cos(a.s)+Math.cos(5.24*a.s)+Math.cos(14.4*a.s)+Math.cos(2.7*a.s);a.zp*=.25;a.zp=a.zp+1-a.t1;a.zp=.00001<Math.abs(below(a.zp,0))?a.zp+2:a.zp;a.a=.3*(1-.5*a.zp);a.a=.00001<Math.abs(below(a.a,0))?0:a.a;a.zp*=.7;a.x_screen=div(-a.xp,a.zp)+.5;a.y_screen=div(a.yp,a.zp)+.5;a.x=a.x_screen;\na.y=a.y_screen;a.r=.2;a.g=.7;a.b=1;","init_eqs_eel":"advance=0;\nadvance2=0","frame_eqs_eel":"advance=advance+ bass_att*bass_att*0.002;\nadvance=if( above(advance,2) , advance-2, advance);\nt1=advance;\n\nadvance2=advance2+ mid_att*mid_att*0.001;\nt2=advance2;","point_eqs_eel":"s=sample*6.28;\n\n//plot random x position via function of sample pos;\nxp=sin(s)+sin(s*0.34)+sin(s*7.3+t2)+sin(s*13.8);\nxp=xp*0.15;\n\n//plot random y position via function of sample pos;\nyp=cos(s)+sin(s*0.24)+cos(s*5.4+t2)+sin(s*17.7);\nyp=yp*0.15;\n\n//plot random z position via function of sample pos;\nzp=cos(s)+cos(s*5.24 )+cos(s*14.4)+cos(s*2.7);\nzp=zp*0.25;\n\n//pull stars toward screen\nzp=zp + 1 - t1;\n\n//correct when below 0\nzp=if( below(zp,0) , zp+2 , zp );\n\n//darken far stars\na=(1 - zp*0.5) * 0.3;\na=if( below(a,0), 0 , a);\n\nzp=zp*0.7;\n\nx_screen=-xp/zp + 0.5;\ny_screen=yp/zp + 0.5;\n\nx=x_screen;\ny=y_screen;\n\nr=0.2;\ng=0.7;\nb=1.0;\n\n\n"}],"init_eqs_str":"a.mq29=0;a.cthr=0;a.mq1=0;a.basstime=0;a.stickybit=0;a.q25=0;a.q12=0;a.q22=0;a.q21=0;a.volavg2=0;a.q13=0;a.q29=0;a.q6=0;a.q1=0;a.mq31=0;a.q5=0;a.decay_r=0;a.mq21=0;a.mq24=0;a.sample1=0;a.difftime=0;a.chng=0;a.mq28=0;a.diff=0;a.decay_b=0;a.edge=0;a.mq23=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.atime=0;a.q4=0;a.volavg=0;a.q26=0;a.bit2=0;a.mq27=0;a.mq25=0;a.mq22=0;a.vol=0;a.mq26=0;a.q2=0;a.q27=0;a.q3=0;a.basssum=0;a.decay_g=0;a.q28=0;a.sample2=0;","frame_eqs_str":"a.chng=Math.sin(.5*a.time);a.cthr=.9999;a.mq21=.00001<Math.abs(above(a.chng,a.cthr))?rand(3):a.mq21;a.mq22=.00001<Math.abs(above(a.chng,a.cthr))?rand(3):a.mq22;a.mq23=.00001<Math.abs(above(a.chng,a.cthr))?rand(3):a.mq23;a.mq24=.00001<Math.abs(above(a.chng,a.cthr))?rand(2):a.mq24;a.mq25=.00001<Math.abs(above(a.chng,a.cthr))?rand(2):a.mq25;a.mq26=.00001<Math.abs(above(a.chng,a.cthr))?rand(2):a.mq26;a.mq27=.00001<Math.abs(above(a.chng,a.cthr))?rand(1):a.mq27;a.mq28=.00001<Math.abs(above(a.chng,\na.cthr))?rand(1):a.mq28;a.mq29=.00001<Math.abs(above(a.chng,a.cthr))?.3*rand(1):a.mq29;a.mq31=.00001<Math.abs(above(a.chng,a.cthr))?.3*rand(1):a.mq31;a.monitor=a.chng;a.q21=a.mq21;a.q22=a.mq22;a.q23=a.mq23;a.q24=a.mq24;a.q25=a.mq25;a.q26=a.mq26;a.q27=a.mq27;a.q28=a.mq28;a.q29=a.mq29;a.q31=a.mq31;a.monitor=a.mq1;a.vol=a.bass+a.treb+a.mid;a.atime+=a.vol;a.q11=.4+.4*Math.sin(.006*a.atime);a.q12=.4+.4*Math.cos(.00613828348*a.atime);a.q13=.4+.4*Math.sin(.00598593455*a.atime);a.monitor=a.q13;a.q4=Math.sin(.03*\na.atime);a.q5=Math.cos(.030383824*a.atime);a.q6=Math.tan(.029384834*a.atime);a.basstime+=.03*a.bass;a.q1=4*a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,1E3))?1E3:a.basstime;a.basstime+=.03*a.bass_att;a.vol=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol;a.stickybit=mod(a.time,2);a.volavg+=a.vol*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;\na.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=a.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.wave_mystery=.5*a.time;a.difftime=.00001<Math.abs(above(a.difftime,2E3))?0:a.difftime;a.monitor=a.q3;a.decay=-.05;\n","pixel_eqs_str":"a.zoom=1;a.decay_r=1;a.decay_g=1;a.decay_b=1;a.warp=.5;a.rot=.002;","init_eqs_eel":"","frame_eqs_eel":"chng=sin(time*.5);\ncthr=.9999;\nmq21=if(above(chng,cthr),rand(3),mq21);\nmq22=if(above(chng,cthr),rand(3),mq22);\nmq23=if(above(chng,cthr),rand(3),mq23);\nmq24=if(above(chng,cthr),rand(2),mq24);\nmq25=if(above(chng,cthr),rand(2),mq25);\nmq26=if(above(chng,cthr),rand(2),mq26);\nmq27=if(above(chng,cthr),rand(1),mq27);\nmq28=if(above(chng,cthr),rand(1),mq28);\nmq29=if(above(chng,cthr),rand(1)*.3,mq29);\nmq31=if(above(chng,cthr),rand(1)*.3,mq31);\nmonitor=chng;\nq21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;\nq27=mq27;q28=mq28;q29=mq29;q31=mq31;\n\nmonitor=mq1;\nvol=bass+treb+mid;\natime=atime+vol;\nq11=.4+sin(atime*.006        )*.4;\nq12=.4+cos(atime*.00613828348)*.4;\nq13=.4+sin(atime*.00598593455)*.4;\nmonitor=q13;\nq4=sin(atime*.03);\nq5=cos(atime*.030383824);\nq6=tan(atime*.029384834);\n\nbasstime = basstime + bass*0.03;\nq1 = basstime*4;\n\n//start in most active range\nbasstime = if(below(basstime,1000),1000,basstime);\n//basstime = if(above(basstime,495),450,basstime);\n\nbasstime = basstime + bass_att*0.03;\nvol = pow(bass+mid+treb,2);\nbasssum = vol;\n\nstickybit = time%2;\n\n//avg vol\n//buffer 1\nvolAvg = volAvg + vol*equal(stickybit,1);\n//number of samples 1 or framerate\nsample1 = sample1 + equal(stickybit,1);\n//buffer 2\nvolAvg2 = volAvg2 + vol*equal(stickybit,0);\n//number of samples 2\nsample2 = sample2 + equal(stickybit,0);\n\n//transision\nedge = bnot(equal(bit2,stickybit));\n\nvolAvg = volAvg - volAvg*edge*stickybit;\nvolAvg2 = volAvg2 - volAvg2*edge*equal(stickybit,0);\n\nsample1 = sample1  - sample1*edge*stickybit;\nsample2 = sample2  - sample2*edge*equal(stickybit,0);\n\n//test vol against avg buffer lvl\ndiff = if(equal(stickybit,1), (basssum/(volAvg2/sample2)) , 0);\ndiff = if(equal(stickybit,0), (basssum/(volAvg/sample1)), diff);\n\nq3 = diff;\n\nbit2 = time%2;\n\ndifftime = difftime + diff*0.03;\nq2 = difftime;\n\nwave_mystery = time*0.5;\n\n//fix a strange error\ndifftime = if(above(difftime,2000),0, difftime);\n\nmonitor = q3;\n\ndecay = -0.05;","pixel_eqs_eel":"zoom = 1;// + 0.05*q3*rad;\n\ndecay_r =1;// 0.2*x*y*sin(q2*0.35) + 0.85 + 0.1*sin(q2);\ndecay_g = 1;//0.2*y*sin(q2*0.5) + 0.85 + 0.1*sin(0.7*q2);\ndecay_b = 1;//0.2*x*sin(q2*0.4) + 0.85 + 0.1*sin(0.8*q2);\n\nwarp = 0.5;\n\nrot = 0.002;","warp":" shader_body { \n  vec3 z_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = mix (uv_orig, uv, vec2(0.2, 0.2));\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_main, tmpvar_3);\n  ret_2 = tmpvar_4.xyz;\n  float tmpvar_5;\n  tmpvar_5 = ((tmpvar_4.x * tmpvar_4.y) * tmpvar_4.y);\n  z_1.x = (tmpvar_4.x + ((\n    (-(tmpvar_5) + (0.035 * (1.0 - tmpvar_4.x)))\n   + 0.0007) * 9.0));\n  z_1.y = (tmpvar_4.y + ((tmpvar_5 - \n    (0.095 * tmpvar_4.y)\n  ) * 9.0));\n  z_1.z = (tmpvar_4.z - 0.02);\n  vec2 tmpvar_6;\n  tmpvar_6 = (0.3 * texsize.zw);\n  z_1.x = (z_1.x + (1.8 * (\n    (0.25 * (((texture (sampler_main, \n      (tmpvar_3 + tmpvar_6)\n    ).xyz + texture (sampler_main, \n      (tmpvar_3 + (tmpvar_6 * vec2(-1.0, 1.0)))\n    ).xyz) + texture (sampler_main, (tmpvar_3 + \n      (tmpvar_6 * vec2(1.0, -1.0))\n    )).xyz) + texture (sampler_main, (tmpvar_3 - tmpvar_6)).xyz))\n   - texture (sampler_main, tmpvar_3).xyz)).x);\n  vec4 tmpvar_7;\n  tmpvar_7 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv.xyy) * (\n    (q27 * texsize.xyy)\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\n  if (((tmpvar_4.x > (q21 * q13)) && (tmpvar_4.x <= (q24 * q11)))) {\n    ret_2.y = (tmpvar_4.y - (tmpvar_7.x * 0.5));\n  };\n  if (((ret_2.y > (q22 * q11)) && (ret_2.y <= (q25 * q12)))) {\n    ret_2.z = (tmpvar_4.z - (tmpvar_7.y * 0.5));\n  };\n  if (((ret_2.z > (q23 * q12)) && (ret_2.z <= (q26 * q13)))) {\n    ret_2.x = (tmpvar_4.x - (tmpvar_7.z * 0.5));\n  };\n  ret_2.yz = z_1.yz;\n  ret_2.x = (z_1.x + (0.09 * (\n    (texture (sampler_noise_lq, (((uv * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz * 2.0)\n   - 1.0)).x);\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = ret_2;\n  ret = tmpvar_8.xyz;\n }","comp":" shader_body { \n  vec2 tmpvar_1;\n  tmpvar_1.x = cos((uv.x * 37.0));\n  tmpvar_1.y = sin((uv.y * 29.0));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = max (texture (sampler_main, uv).xyz, texture (sampler_main, (uv + (0.045 * tmpvar_1))).xyz);\n  ret = tmpvar_2.xyz;\n }","warp_hlsl":"shader_body\n{\n  float2 uv2 = lerp(uv_orig, uv, 0.2);\n\n  // diffused version:\n  float ss = 0.3;\n  float3 blur = 0.25*(\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2( 1, 1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2(-1, 1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2( 1,-1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2(-1,-1)).xyz\n  );\n\n  // diffusion:  \n  ret = tex2D(sampler_main,uv2);//blur;\n\n  float F2 = 0.035;\n  float k2 = 0.060;\n  float s = 0.025;\n  float scale = 9;\n\n  // reaction:\n  float3 z = ret;\n  float uvv = ret.x*ret.y*ret.y;\n  z.x += (-uvv + F2*(1-ret.x) + 0.0007)*scale;\n  z.y += (uvv - (F2+k2)*ret.y)*scale;\n  //z.x += s*(16-ret.x*ret.y);\n  //z.y += s*(ret.x*ret.y - ret.y - ret.z);\n  z.z -= 0.02;\n\n  // apply laplacian:\n  z.x += (blur - GetPixel(uv2))*0.2*scale;\n\nfloat4 noise9 = tex3D(sampler_noisevol_hq, \n                      ((uv.xyy*q27\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      float3(1,1,0)*0.05 + \n                      time*float3(0,0,1)*q29\n                     );\nif(ret.x> q21*q13         && ret.x<= q24*q11        )ret.y -= (noise9).x*.5; \nif(ret.y> q22*q11         && ret.y<= q25*q12        )ret.z -= (noise9).y*.5; \nif(ret.z> q23*q12         && ret.z<= q26*q13        )ret.x -= (noise9).z*.5; \n  ret = z;  \n  //ret *= 0.98 + 0.02*saturate( (0.75 - rad )*10 );\n  //ret *= 0.99;\n\n  // add noise:\n  ret.x += 0.09*(tex2d(sampler_noise_lq, uv*texsize.xy*texsize_noise_lq.zw + rand_frame.xy).xyz*2-1);\n\n  // darken (decay) over time\n  //ret = (ret - 0.002)*0.99;\n}","comp_hlsl":"shader_body\n{\n    //uv.y = rad*rad;\n    float srad = sqrt(rad)+ 0.05;\n\n    ret = tex2D(sampler_main, uv).xyz;\n    ret = max(ret, tex2D(sampler_main, uv + 0.045*float2(cos(uv.x*37),sin(uv.y*29))).xyz);\n\n    //ret += GetBlur1(uv) - 0.07;\n    //ret *= float3(1.3,0.8,0.5);\n    //ret *= 0.8;    \n}"}