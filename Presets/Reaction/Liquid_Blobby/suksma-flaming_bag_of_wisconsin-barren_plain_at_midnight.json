{"version":2,"baseVals":{"rating":5,"gammaadj":1.42,"decay":1,"echo_zoom":1.22,"echo_alpha":0.3,"wave_mode":5,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.448,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"zoomexp":3.04777,"fshader":1,"zoom":1.0173,"warp":0.01605,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0,"ob_a":1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"x":0.37,"rad":2.71585,"ang":3.64425,"r":0,"a":0.4,"g2":0,"a2":0.2,"border_a":0},"init_eqs_str":"a.q4=0;a.t1=0;a.t2=0;a.t1=.01*Math.floor(rand(100));a.t2=.01*Math.floor(rand(100));","frame_eqs_str":"a.ang=a.q4*(.13+.1*a.t1);a.rad*=.5+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.2*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.2*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.2*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.2*Math.sin(.657*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.2*Math.sin(.737*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.2*Math.sin(.884*a.time+6)));","init_eqs_eel":"t1 = int(rand(100))*0.01;\nt2 = int(rand(100))*0.01;","frame_eqs_eel":"ang = q4*(0.13 + 0.1*t1);\nrad = rad * (0.5 + 0.2*t2);\nr = min(1,max(0,r + 0.2*sin(time*0.417 + 1)));\ng = min(1,max(0,g + 0.2*sin(time*0.391 + 2)));\nb = min(1,max(0,b + 0.2*sin(time*0.432 + 4)));\nr2 = min(1,max(0,r2 + 0.2*sin(time*0.657 + 3)));\ng2 = min(1,max(0,g2 + 0.2*sin(time*0.737 + 5)));\nb2 = min(1,max(0,b2 + 0.2*sin(time*0.884 + 6)));"},{"baseVals":{"enabled":1,"sides":50,"additive":1,"textured":1,"x":0.37,"rad":0.8041,"tex_ang":1.88496,"tex_zoom":0.60804,"g":1,"b":1,"a":0.8,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"a.q4=0;a.t1=0;a.t2=0;a.t1=.01*Math.floor(rand(100));a.t2=.01*Math.floor(rand(100));","frame_eqs_str":"a.x+=.05*Math.sin(1.05*a.time+33);a.y+=.03*Math.sin(1.09*a.time+24);a.ang=a.q4*(.2+.1*a.t1);a.rad*=.9+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.1*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.1*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.1*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.1*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.1*Math.sin(.437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.1*Math.sin(.484*a.time+6)));","init_eqs_eel":"t1 = int(rand(100))*0.01;\nt2 = int(rand(100))*0.01;","frame_eqs_eel":"x = x + 0.05*sin(time*1.05+33);\ny = y + 0.03*sin(time*1.09+24);\nang = q4*(0.2 + 0.1*t1);\nrad = rad * (0.9 + 0.2*t2);\nr = min(1,max(0,r + 0.1*sin(time*0.417 + 1)));\ng = min(1,max(0,g + 0.1*sin(time*0.391 + 2)));\nb = min(1,max(0,b + 0.1*sin(time*0.432 + 4)));\nr2 = min(1,max(0,r2 + 0.1*sin(time*0.457 + 3)));\ng2 = min(1,max(0,g2 + 0.1*sin(time*0.437 + 5)));\nb2 = min(1,max(0,b2 + 0.1*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":50,"additive":1,"textured":1,"x":0.67,"y":0.43,"rad":0.69954,"ang":4.20974,"tex_ang":1.88496,"tex_zoom":0.90529,"g":1,"b":1,"a":0.8,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"a.q4=0;a.t1=0;a.t2=0;a.t1=.01*Math.floor(rand(100));a.t2=.01*Math.floor(rand(100));","frame_eqs_str":"a.x+=.05*Math.sin(.17*a.time+24);a.y+=.03*Math.sin(.23*a.time+28);a.ang=a.q4*(.5+.1*a.t1);a.rad*=.9+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.1*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.1*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.1*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.1*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.1*Math.sin(.437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.1*Math.sin(.484*a.time+6)));","init_eqs_eel":"t1 = int(rand(100))*0.01;\nt2 = int(rand(100))*0.01;","frame_eqs_eel":"x = x + 0.05*sin(time*0.17+24);\ny = y + 0.03*sin(time*0.23+28);\nang = q4*(0.5 + 0.1*t1);\nrad = rad * (0.9 + 0.2*t2);\nr = min(1,max(0,r + 0.1*sin(time*0.417 + 1)));\ng = min(1,max(0,g + 0.1*sin(time*0.391 + 2)));\nb = min(1,max(0,b + 0.1*sin(time*0.432 + 4)));\nr2 = min(1,max(0,r2 + 0.1*sin(time*0.457 + 3)));\ng2 = min(1,max(0,g2 + 0.1*sin(time*0.437 + 5)));\nb2 = min(1,max(0,b2 + 0.1*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":50,"additive":1,"textured":1,"x":0.67,"y":0.43,"rad":0.37003,"ang":4.20974,"tex_ang":3.76991,"tex_zoom":0.81954,"g":1,"b":1,"a":0.8,"r2":1,"b2":1,"border_a":0},"init_eqs_str":"a.q4=0;a.t1=0;a.t2=0;a.t1=.01*Math.floor(rand(100));a.t2=.01*Math.floor(rand(100));","frame_eqs_str":"a.x+=.25*Math.sin(.17*a.time+32);a.y+=.23*Math.sin(.13*a.time+12);a.ang=a.q4*(.2+.1*a.t1);a.rad*=.9+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.1*Math.sin(.117*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.1*Math.sin(.191*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.1*Math.sin(.132*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.1*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.1*Math.sin(.437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.1*Math.sin(.484*a.time+6)));","init_eqs_eel":"t1 = int(rand(100))*0.01;\nt2 = int(rand(100))*0.01;","frame_eqs_eel":"x = x + 0.25*sin(time*0.17+32);\ny = y + 0.23*sin(time*0.13+12);\nang = q4*(0.2 + 0.1*t1);\nrad = rad * (0.9 + 0.2*t2);\nr = min(1,max(0,r + 0.1*sin(time*0.117 + 1)));\ng = min(1,max(0,g + 0.1*sin(time*0.191 + 2)));\nb = min(1,max(0,b + 0.1*sin(time*0.132 + 4)));\nr2 = min(1,max(0,r2 + 0.1*sin(time*0.457 + 3)));\ng2 = min(1,max(0,g2 + 0.1*sin(time*0.437 + 5)));\nb2 = min(1,max(0,b2 + 0.1*sin(time*0.484 + 6)));"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"a.z=0;a.d_x=0;a.q25=0;a.index=0;a.q12=0;a.q18=0;a.q22=0;a.q21=0;a.vt=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.vb=0;a.q9=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.q10=0;a.q4=0;a.q16=0;a.q26=0;a.avg=0;a.r=0;a.q19=0;a.beat=0;a.q17=0;a.d_y=0;a.peak=0;a.q2=0;a.q27=0;a.q14=0;a.q3=0;a.t0=0;a.vvm=0;a.q32=0;a.vvb=0;a.q7=0;a.q28=0;a.vm=0;a.q30=0;a.q20=0;a.vvt=0;a.q8=0;","frame_eqs_str":"a.vb=.95*a.vb+(1-a.vb)*pow(a.bass_att,2)*.02;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.01;a.vm=.95*a.vm+(1-a.vm)*pow(a.mid_att,2)*.02;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.01;a.vt=.95*a.vt+(1-a.vt)*pow(a.treb_att,2)*.02;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.01;a.vvb=Math.min(1,Math.max(0,a.vvb));a.vvm=Math.min(1,Math.max(0,a.vvm));a.vvt=Math.min(1,Math.max(0,a.vvt));a.q1=2*a.vvb;a.q2=2*a.vvm;a.q3=2*a.vvt;a.q4=5*(a.q1+a.q2+a.q3);a.q5=5*(a.q1+a.q2+a.q3);a.q6=5*(a.q1+a.q2+a.q3);a.q7=5*(a.q1+a.q2+a.q3);\na.q8=5*(a.q1+a.q2+a.q3);a.q9=5*(a.q1+a.q2+a.q3);a.q10=5*(a.q1+a.q2+a.q3);a.q11=5*(a.q1+a.q2+a.q3);a.q12=5*(a.q1+a.q2+a.q3);a.q13=5*(a.q1+a.q2+a.q3);a.q14=5*(a.q1+a.q2+a.q3);a.q15=5*(a.q1+a.q2+a.q3);a.q16=5*(a.q1+a.q2+a.q3);a.q17=5*(a.q1+a.q2+a.q3);a.q18=5*(a.q1+a.q2+a.q3);a.q19=5*(a.q1+a.q2+a.q3);a.q20=5*(a.q1+a.q2+a.q3);a.q21=5*(a.q1+a.q2+a.q3);a.q22=5*(a.q1+a.q2+a.q3);a.q23=5*(a.q1+a.q2+a.q3);a.q24=5*(a.q1+a.q2+a.q3);a.q25=5*(a.q1+a.q2+a.q3);a.q26=5*(a.q1+a.q2+a.q3);a.q27=5*(a.q1+a.q2+a.q3);a.q28=\n5*(a.q1+a.q2+a.q3);a.q29=5*(a.q1+a.q2+a.q3);a.q30=5*(a.q1+a.q2+a.q3);a.q31=5*(a.q1+a.q2+a.q3);a.q32=5*(a.q1+a.q2+a.q3);a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,2);a.d_x=.00001<Math.abs(a.is_beat)?\n.001*(Math.floor(rand(2E3))-1E3):a.d_x;a.d_y=.00001<Math.abs(a.is_beat)?.001*(Math.floor(rand(2E3))-1E3):a.d_y;a.r=.00001<Math.abs(a.is_beat)?.001*(Math.floor(rand(2E3))-1E3):a.r;a.z=.00001<Math.abs(a.is_beat)?.001*Math.floor(rand(1E3)):a.z;a.zoom=1.03+.03*a.z;a.rot=.04*a.r;a.dx=.01*a.d_x;a.dy=.01*a.d_y;a.q1=1;a.q23=div(Math.floor(rand(1E3)),1E3);a.q24=div(Math.floor(rand(1E3)),1E3);a.q25=6.28*div(Math.floor(rand(1E3)),1E3);a.q26=a.q25-3.14;a.q27=div(Math.floor(rand(1E3)),12E3)+.04;a.q28=div(Math.floor(rand(1E3)),\n1E3);a.q29=div(Math.floor(rand(1E3)),1E3);a.q30=6.28*div(Math.floor(rand(1E3)),1E3);a.q31=a.q30-3.14;a.q32=div(Math.floor(rand(1E3)),14E3)+.04;","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\nvvb = min(1,max(0,vvb));\nvvm = min(1,max(0,vvm));\nvvt = min(1,max(0,vvt));\nq1 = vvb*2;//0.5 + vb - vvb;\nq2 = vvm*2;//0.5 + vm - vvm;\nq3 = vvt*2;//0.5 + vt - vvt;\nq4=(q1+q2+q3)*5;\nq5=(q1+q2+q3)*5;\nq6=(q1+q2+q3)*5;\nq7=(q1+q2+q3)*5;\nq8=(q1+q2+q3)*5;\nq9=(q1+q2+q3)*5;\nq10=(q1+q2+q3)*5;\nq11=(q1+q2+q3)*5;\nq12=(q1+q2+q3)*5;\nq13=(q1+q2+q3)*5;\nq14=(q1+q2+q3)*5;\nq15=(q1+q2+q3)*5;\nq16=(q1+q2+q3)*5;\nq17=(q1+q2+q3)*5;\nq18=(q1+q2+q3)*5;\nq19=(q1+q2+q3)*5;\nq20=(q1+q2+q3)*5;\nq21=(q1+q2+q3)*5;\nq22=(q1+q2+q3)*5;\nq23=(q1+q2+q3)*5;\nq24=(q1+q2+q3)*5;\nq25=(q1+q2+q3)*5;\nq26=(q1+q2+q3)*5;\nq27=(q1+q2+q3)*5;\nq28=(q1+q2+q3)*5;\nq29=(q1+q2+q3)*5;\nq30=(q1+q2+q3)*5;\nq31=(q1+q2+q3)*5;\nq32=(q1+q2+q3)*5;\n\ndec_med = pow (0.9, 30/fps);\ndec_slow = pow (0.99, 30/fps);\nbeat = max (max (bass, mid), treb); \navg = avg*dec_slow + beat*(1-dec_slow);\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\nindex = (index + is_beat) %2;\n\n\nd_x = if(is_beat, (int(rand(2000))-1000)*0.001 , d_x);\nd_y = if(is_beat, (int(rand(2000))-1000)*0.001 , d_y);\nr = if(is_beat, (int(rand(2000))-1000)*0.001 , r);\nz = if(is_beat, int(rand(1000))*0.001 , z);\nzoom = 1.03 + z*0.03;\nrot = r*0.04;\ndx = d_x*0.01;\ndy = d_y*0.01;\nq1 = 1;\n\nq23 = int(rand(1000))/1000;\nq24 = int(rand(1000))/1000;\nq25 = (int(rand(1000))/1000)*6.28;\nq26 = q25 - 3.14;\nq27 = (int(rand(1000))/12000)+0.04;\n\nq28 = int(rand(1000))/1000;\nq29 = int(rand(1000))/1000;\nq30 = (int(rand(1000))/1000)*6.28;\nq31 = q30 - 3.14;\nq32 = (int(rand(1000))/14000)+0.04;","pixel_eqs_eel":"","warp":" shader_body { \n  vec3 z_1;\n  vec3 ret_2;\n  vec2 tmpvar_3;\n  tmpvar_3 = mix (uv_orig, uv, vec2(0.2, 0.2));\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_main, tmpvar_3);\n  float tmpvar_5;\n  tmpvar_5 = ((tmpvar_4.x * tmpvar_4.y) * tmpvar_4.y);\n  z_1.x = (tmpvar_4.x + ((\n    (-(tmpvar_5) + (0.035 * (1.0 - tmpvar_4.x)))\n   + 0.0007) * 9.0));\n  z_1.y = (tmpvar_4.y + ((tmpvar_5 - \n    (0.095 * tmpvar_4.y)\n  ) * 9.0));\n  z_1.z = (tmpvar_4.z - 0.02);\n  vec2 tmpvar_6;\n  tmpvar_6 = (0.3 * texsize.zw);\n  z_1.x = (z_1.x + (1.8 * (\n    (0.25 * (((texture (sampler_main, \n      (tmpvar_3 + tmpvar_6)\n    ).xyz + texture (sampler_main, \n      (tmpvar_3 + (tmpvar_6 * vec2(-1.0, 1.0)))\n    ).xyz) + texture (sampler_main, (tmpvar_3 + \n      (tmpvar_6 * vec2(1.0, -1.0))\n    )).xyz) + texture (sampler_main, (tmpvar_3 - tmpvar_6)).xyz))\n   - texture (sampler_main, tmpvar_3).xyz)).x);\n  ret_2.yz = z_1.yz;\n  ret_2.x = (z_1.x + (0.09 * (\n    (texture (sampler_noise_lq, (((uv * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz * 2.0)\n   - 1.0)).x);\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = ret_2;\n  ret = tmpvar_7.xyz;\n }","comp":"vec3 xlat_mutableret1;\nvec3 xlat_mutableret2;\nvec2 xlat_mutablesam;\n shader_body { \n  vec2 uv_1;\n  xlat_mutablesam = (texture (sampler_main, (uv * 0.5)).xy * ((\n    (texture (sampler_blur1, uv).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur3, uv).xyz * scale3)\n   + bias3)).xy);\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_main, (xlat_mutablesam + uv));\n  float tmpvar_3;\n  tmpvar_3 = (0.5 * bass_att);\n  xlat_mutableret1 = ((tmpvar_2.x * (\n    (tmpvar_3 * uv_orig.y)\n   + tmpvar_2.xyz)) + (tmpvar_2.x * texture (sampler_main, uv).xyz));\n  xlat_mutableret1 = (xlat_mutableret1 * ((xlat_mutableret1 + 1.0) / 2.0));\n  uv_1 = (((uv - 0.5) * 0.3) + 0.5);\n  xlat_mutablesam = (texture (sampler_main, (uv_1 * 0.5)).xy * ((\n    (texture (sampler_blur1, uv_1).xyz * scale1)\n   + bias1) - (\n    (texture (sampler_blur3, uv_1).xyz * scale3)\n   + bias3)).xy);\n  vec4 tmpvar_4;\n  tmpvar_4 = texture (sampler_main, (xlat_mutablesam + uv_1));\n  xlat_mutableret2 = ((tmpvar_4.x * (\n    (tmpvar_3 * uv_orig.y)\n   + tmpvar_4.xyz)) + (tmpvar_4.x * texture (sampler_main, uv_1).xyz));\n  xlat_mutableret2 = (xlat_mutableret2 * (xlat_mutableret1 + 1.0));\n  vec3 tmpvar_5;\n  tmpvar_5 = max (xlat_mutableret1, xlat_mutableret2);\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = (tmpvar_5 * (0.5 + (0.5 * \n    dot (tmpvar_5, vec3(0.32, 0.49, 0.29))\n  )));\n  ret = tmpvar_6.xyz;\n }","warp_hlsl":"shader_body\n{\n  float2 uv2 = lerp(uv_orig, uv, 0.2);\n\n  // diffused version:\n  float ss = 0.3;\n  float3 blur = 0.25*(\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2( 1, 1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2(-1, 1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2( 1,-1)).xyz +\n    tex2D(sampler_main, uv2+ss*texsize.zw*float2(-1,-1)).xyz\n  );\n\n  // diffusion:  \n  ret = tex2D(sampler_main,uv2);//blur;\n\n  float F2 = 0.035;\n  float k2 = 0.060;\n  float s = 0.025;\n  float scale = 9;\n\n  // reaction:\n  float3 z = ret;\n  float uvv = ret.x*ret.y*ret.y;\n  z.x += (-uvv + F2*(1-ret.x) + 0.0007)*scale;\n  z.y += (uvv - (F2+k2)*ret.y)*scale;\n  //z.x += s*(16-ret.x*ret.y);\n  //z.y += s*(ret.x*ret.y - ret.y - ret.z);\n  z.z -= 0.02;\n\n  // apply laplacian:\n  z.x += (blur - GetPixel(uv2))*0.2*scale;\n\n  ret = z;  \n  //ret *= 0.98 + 0.02*saturate( (0.75 - rad )*10 );\n  //ret *= 0.99;\n\n  // add noise:\n  ret.x += 0.09*(tex2d(sampler_noise_lq, uv*texsize.xy*texsize_noise_lq.zw + rand_frame.xy).xyz*2-1);\n\n  // darken (decay) over time\n  //ret = (ret - 0.002)*0.99;\n}","comp_hlsl":"float3 ret1, ret2, reta;\nfloat2 sam;\nshader_body\n{\n    sam = tex2D(sampler_main,uv*.5);\n    ret1 = tex2D(sampler_main, float2(uv.x, uv.y));\n    sam *= GetBlur1(uv)-GetBlur3(uv);       \n\n    reta = tex2D(sampler_main, sam+uv ).rgb;\n    ret1 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret1;\n    ret1 *= (ret1+1)/2; //gamma\n\nuv = (uv-.5)*.3+.5;\n    sam = tex2D(sampler_main,uv*.5);\n    ret2 = tex2D(sampler_main, float2(uv.x, uv.y));\n    sam *= GetBlur1(uv)-GetBlur3(uv);       \n\n    reta = tex2D(sampler_main, sam+uv ).rgb;\n    ret2 = reta.r * (.5*bass_att*uv_orig.y+reta) + (reta.r)*ret2;\n    ret2 *= (ret1+1); //gamma\n\n\n\nret = max(ret1, ret2);\nret *= .5+.5*lum(ret);\n//ret = (1+ret1)*ret2;\n\n}\n\n"}