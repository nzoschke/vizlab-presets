{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.925,"echo_zoom":1.008,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.35,"zoom":0.9399,"rot":-6.14,"dx":0.001,"dy":0.005,"warp":1.5088,"sx":0.9999,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.009,"ob_r":0.788,"ob_g":0.251,"ob_b":0.096,"ob_a":0.046,"ib_size":0.003,"ib_r":0.503,"ib_g":0.288,"ib_b":0.874,"ib_a":0.733,"mv_x":6.4,"mv_y":14.4,"mv_l":0.5,"mv_g":0.1,"mv_b":0.3,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"rad":1.79142,"tex_ang":0.62832,"g":1,"b":1,"a":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;","frame_eqs_str":"","point_eqs_str":"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0002*cos(ma));\nmy=my+(.0002*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;","frame_eqs_str":"","point_eqs_str":"a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\nma=ma-(above(mid,1)*3.1415*.05*mid);\n\nmx=mx+(.0001*cos(ma));\nmy=my+(.0001*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;","frame_eqs_str":"","point_eqs_str":"a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\nma=ma-(above(treb,1)*3.1415*.01*treb);\n\nmx=mx+(.0004*cos(ma));\nmy=my+(.0004*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;"},{"baseVals":{"enabled":1,"thick":1},"init_eqs_str":"a.ma=0;a.mx=0;a.my=0;","frame_eqs_str":"","point_eqs_str":"a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\nma=ma-(above(treb,.5)*3.1415*.02*treb);\n\nmx=mx+(.0004*cos(ma));\nmy=my+(.0004*sin(ma));\n\nmx=if(above(mx,.9),(.9-mx),mx);\nmy=if(above(my,.9),(.9-my),my);\nmx=if(below(mx,.1),(.9+mx),mx);\nmy=if(below(my,.1),(.9+my),my);\n\nx=mx;\ny=my;"}],"init_eqs_str":"a.vol_now=0;a.q1=0;a.slowtime=0;a.my_rot=0;a.zoom_target=0;a.beat=0;a.my_beat=0;a.q2=0;a.q3=0;a.vol_mean=0;a.my_rot=.01;","frame_eqs_str":"a.mv_l=1.21894646*Math.floor(rand(Math.floor(a.ob_size*a.zoom)));a.wave_y=bnot(a.wave_y+a.mv_b);a.zoomexp=-1.9620862*Math.abs(1.40700197*log10(a.wave_b*a.wave_mode));a.mv_b=a.zoom*a.cx;a.ob_g=1.96492791*sign(.00001<Math.abs(equal(a.wave_mystery*a.wave_y,a.mv_x*a.ob_a))?.71052909*Math.log(a.ob_g*a.warp):a.wave_x*a.sy);a.dy=.00001<Math.abs(below(a.sy*a.ob_r,a.mv_b*a.mv_x))?sigmoid(a.mv_l*a.dy,a.ib_size*a.mv_y):a.ob_a*a.mv_x;a.mv_l*=a.warp;a.ib_b=.00001<Math.abs(below(a.decay+\na.ib_g,a.cy*a.ob_size))?a.wave_mystery*a.warp:a.wave_mystery*a.mv_g;a.mv_x=.68256116*Math.abs(a.mv_a-a.mv_r);a.wave_y=sigmoid(sigmoid(a.wave_y*a.zoomexp,a.ib_a*a.ib_g),a.ib_b+a.mv_l);a.ob_b=Math.max(-1.81535745*log10(a.ob_b*a.ib_a),a.ob_r*a.wave_b);a.zoomexp=.00001<Math.abs(below(a.zoomexp,.01))?.01:a.zoomexp;a.zoomexp=.00001<Math.abs(above(a.zoomexp,100))?100:a.zoomexp;a.dy=.00001<Math.abs(below(a.dy,-1))?-1:a.dy;a.dy=.00001<Math.abs(above(a.dy,1))?1:a.dy;a.wave_y=.00001<Math.abs(below(a.wave_y,\n0))?0:a.wave_y;a.wave_y=.00001<Math.abs(above(a.wave_y,1))?1:a.wave_y;a.vol_now=.4*a.bass+.1*(a.bass_att+a.treb+a.mid);a.vol_mean=.00001<Math.abs(equal(mod(a.frame,50),0))?a.vol_mean-.5*(a.vol_mean-a.vol_now):.1*(9*a.vol_mean+a.vol_now);a.beat=.00001<Math.abs(above(a.vol_now,1.15*a.vol_mean))?1:0;a.slowtime+=a.beat*a.time;a.q2=Math.sin(a.slowtime);a.my_beat+=1*a.beat;a.my_beat=.00001<Math.abs(above(a.my_beat,4))?1:a.my_beat;a.my_rot=.00001<Math.abs(above(a.my_rot,0))?a.my_rot+.005*a.vol_mean:a.my_rot-\n.02*a.vol_mean;a.my_rot=.00001<Math.abs(above(a.my_rot,.23))?-3.9:a.my_rot;a.my_rot=.00001<Math.abs(below(a.my_rot,-4.6))?.01:a.my_rot;a.rot=a.my_rot;a.zoom_target=.8+.1*a.q2;a.zoom+=.2*(a.zoom_target-a.zoom);a.monitor=a.zoom;","pixel_eqs_str":"a.warp=.36676717*pow(a.q2-a.y,a.q2*a.q1);a.warp=1.82335234*pow(-.69122636*log10(a.warp*a.q2),a.q1*a.x);a.cx=-.51261795*sqrt(a.q3*a.q1);a.warp=.00001<Math.abs(below(a.warp,.01))?.01:a.warp;a.warp=.00001<Math.abs(above(a.warp,100))?100:a.warp;a.cx=.00001<Math.abs(below(a.cx,-1))?-1:a.cx;a.cx=.00001<Math.abs(above(a.cx,2))?2:a.cx;","init_eqs_eel":"my_rot = 0.01;","frame_eqs_eel":"mv_l = 1.21894646*int(rand(int(ob_size * zoom)));\nwave_y = bnot(wave_y + mv_b);\nzoomexp = -1.9620862*abs(1.40700197*log10(wave_b * wave_mode));\nmv_b = zoom * cx;\nob_g = 1.96492791*sign(if(equal(wave_mystery * wave_y , mv_x * ob_a) , 0.71052909*log(ob_g * warp) , wave_x * sy));\ndy = if(below(sy * ob_r , mv_b * mv_x) , sigmoid(mv_l * dy , ib_size * mv_y) , ob_a * mv_x);\nmv_l = mv_l * warp;\nib_b = if(below(decay + ib_g , cy * ob_size) , wave_mystery * warp , wave_mystery * mv_g);\nmv_x = 0.68256116*abs(mv_a - mv_r);\nwave_y = sigmoid(sigmoid(wave_y * zoomexp , ib_a * ib_g) , ib_b + mv_l);\nob_b = max(-1.81535745*log10(ob_b * ib_a) , ob_r * wave_b);\nzoomexp=if(below(zoomexp,0.01), 0.01, zoomexp);\nzoomexp=if(above(zoomexp,100.0), 100.0, zoomexp);\ndy=if(below(dy,-1), -1, dy);\ndy=if(above(dy,1.0), 1.0, dy);\nwave_y=if(below(wave_y,0.0), 0.0, wave_y);\nwave_y=if(above(wave_y,1.0), 1.0, wave_y);\nvol_now =  .4 * bass + 0.1 * (bass_att + treb + mid);\nvol_mean =  if(equal(frame%50,0),vol_mean - 0.5 * (vol_mean-vol_now),0.1 * (vol_mean * 9 + vol_now));\nbeat = if(above(vol_now,1.15 * vol_mean),1,0);\nslowtime = slowtime + beat*time;\nq2=sin(slowtime);\nmy_beat = my_beat + (1.0 * beat);\nmy_beat = if(above(my_beat, 4), 1, my_beat);\nmy_rot = if(above(my_rot, 0),my_rot + (0.005 * vol_mean),my_rot - (0.02 * vol_mean));\nmy_rot = if(above(my_rot, 0.230), -3.9, my_rot);\nmy_rot = if(below(my_rot, -4.6), 0.01, my_rot);\nrot = my_rot;\nzoom_target = (0.8 + (q2 * 0.1));\n//move slowly towards zoom target?\nzoom = zoom + ((zoom_target - zoom) * .2);\nmonitor = zoom;","pixel_eqs_eel":"warp = 0.36676717*pow(q2 - y , q2 * q1);\nwarp = 1.82335234*pow(-0.69122636*log10(warp * q2) , q1 * x);\ncx = -0.51261795*sqrt(q3 * q1);\nwarp=if(below(warp,0.01), 0.01, warp);\nwarp=if(above(warp,100.0), 100.0, warp);\ncx=if(below(cx,-1.0), -1.0, cx);\ncx=if(above(cx,2.0), 2.0, cx);","warp":"uniform sampler2D sampler_prayerwheel;\n shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\n  ).xyz - 0.5) / 256.0));\n  vec4 tmpvar_2;\n  tmpvar_2 = texture (sampler_prayerwheel, uv_orig);\n  vec2 x_3;\n  x_3 = (uv - uv_orig);\n  ret_1 = (mix (ret_1, tmpvar_2.xyz, vec3(clamp (\n    (1.0 - (abs((\n      dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29))\n     - \n      fract((((bass + mid) + treb) * 0.2))\n    )) * 33.0))\n  , 0.0, 1.0))) * (0.97 + (0.03 * \n    clamp ((sqrt(dot (x_3, x_3)) * 200.0), 0.0, 1.0)\n  )));\n  vec4 tmpvar_4;\n  tmpvar_4.w = 1.0;\n  tmpvar_4.xyz = ret_1;\n  ret = tmpvar_4.xyz;\n }","comp":" shader_body { \n  vec2 uv2_1;\n  vec3 ret_2;\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\n  float tmpvar_3;\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\n  float tmpvar_4;\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\n  float tmpvar_5;\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\n  ) + (\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\n   * 0.15)) + ((\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\n   + bias3) * 0.1)).x;\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\n  vec3 tmpvar_6;\n  tmpvar_6.z = 0.14;\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\n  tmpvar_6.y = (tmpvar_5 - ((\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\n   + \n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\n  ) + (\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\n   * 0.1)).x);\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\n  vec2 x_7;\n  x_7 = (ret_2.xy - 0.5);\n  ret_2 = (ret_2 * clamp ((\n    sqrt(dot (x_7, x_7))\n   * 5.0), 0.0, 1.0));\n  ret_2 = ret_2.xxy;\n  ret_2 = (ret_2 + 1.15);\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - (((texture (sampler_blur1, uv).xyz * scale1) + bias1) * treb_att))\n  ), pow (hue_shader.xzy, vec3(bass_att))));\n  ret_2 = (ret_2 * ret_2);\n  vec4 tmpvar_8;\n  tmpvar_8.w = 1.0;\n  tmpvar_8.xyz = ret_2;\n  ret = tmpvar_8.xyz;\n }","warp_hlsl":"#define sampler_pic sampler_prayerwheel\nsampler2D sampler_pic;\n\nshader_body\n{\n    ret = tex2D( sampler_main, uv ).xyz;\n\n    // ERROR DIFFUSION DITHER - looks great\n    float2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw + rand_frame.xy;\n    ret += (tex2D(sampler_noise_lq, dither_uv).xyz-0.5)/256.0*1;\n\n    // mix in img...\n    float3 pic = tex2D(sampler_pic, uv_orig).xyz;\n    float lum = lum(pic);\n    float use_it = abs(lum - frac((bass+mid+treb)*0.2));\n    use_it = saturate(1 - use_it*33);\n    ret = lerp(ret, pic, use_it.xxx);\n\n    // darken over time\n    //ret -= 0.004;\n    //ret *= 0.99;\n    ret *= 0.97 + 0.03*saturate( length(uv - uv_orig)*200 );  // center only\n}\n","comp_hlsl":"shader_body\n{\n    float2 uv2;\n\n    float4 c = float4(1,0.4,0.15,0.1);\n\n    uv2 = uv + float2(1,0)*texsize.zw;\n    float gx1 = GetPixel(uv2)*c.x + GetBlur1(uv2)*c.y + GetBlur2(uv2)*c.z + GetBlur3(uv2)*c.w;\n    uv2 = uv + float2(-1,0)*texsize.zw;\n    float gx2 = GetPixel(uv2)*c.x + GetBlur1(uv2)*c.y + GetBlur2(uv2)*c.z + GetBlur3(uv2)*c.w;\n\n    uv2 = uv + float2(0,1)*texsize.zw;\n    float gy1 = GetPixel(uv2)*c.x + GetBlur1(uv2)*c.y + GetBlur2(uv2)*c.z + GetBlur3(uv2)*c.w;\n    uv2 = uv + float2(0,-1)*texsize.zw;\n    float gy2 = GetPixel(uv2)*c.x + GetBlur1(uv2)*c.y + GetBlur2(uv2)*c.z + GetBlur3(uv2)*c.w;\n\n    float3 g = normalize(float3(gx1-gx2, gy1-gy2, 0.14));\n\n    ret = 0.5 + 0.5*g;\n    ret *= saturate(length(ret.xy-0.5)*5);\n    ret = ret.xxy;\n    ret += 1.15;\n    ret *= lerp(ret,ret*(GetBlur3(uv)-GetBlur1(uv)*treb_att),pow(hue_shader.xzy,bass_att));\n    ret *= ret;\n\n    //ret *= 1.5; //old gamma effect    \n}"}