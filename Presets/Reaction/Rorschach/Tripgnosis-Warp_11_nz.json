{"version":2,"baseVals":{"rating":5,"gammaadj":1.998,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":3,"wave_dots":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.012,"wave_smoothing":0.9,"zoomexp":2.89992,"zoom":1.10356,"warp":0.02001,"sx":1.01,"sy":1.01,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"mv_x":64,"mv_y":48,"mv_l":1,"mv_r":0.39,"mv_g":0.44,"mv_b":0.9,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":10,"additive":1,"textured":1,"rad":0.41906,"tex_zoom":1.25716,"r":0.8,"g":0.9,"b":1,"a":0.2,"g2":0.5,"b2":1,"border_a":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"additive":1,"r":0.3,"g":0.7},"init_eqs_str":"a.n=0;a.yq=0;a.xp=0;a.xs=0;a.yp=0;a.xq=0;a.flip=0;a.ys=0;a.zq=0;a.ang=0;a.zp=0;a.phase=0;","frame_eqs_str":"","point_eqs_str":"a.n=6.283*a.sample;a.flip+=1;a.flip*=below(a.flip,2);a.phase=Math.sin(3*a.n)*Math.sin(7.9*a.n)*Math.sin(16.7*a.n)*Math.sin(63.5*a.n)*6;a.xp=Math.sin(a.n+a.phase)*a.flip;a.yp=Math.cos(a.n+a.phase)*a.flip;a.zp=0;a.ang=2*a.n+.2*a.phase;a.xq=a.xp*Math.sin(a.ang)+a.zp*Math.cos(a.ang);a.yq=a.yp;a.zq=a.xp*Math.cos(a.ang)-a.zp*Math.sin(a.ang);a.ang=.1*a.time;a.xp=a.xq*Math.sin(a.ang)+a.zq*Math.cos(a.ang);a.yp=a.yq;a.zp=a.xq*Math.cos(a.ang)-a.zq*Math.sin(a.ang);a.ang=.17*a.time;a.xq=\na.xp;a.yq=a.yp*Math.sin(a.ang)+a.zp*Math.cos(a.ang);a.zq=a.yp*Math.cos(a.ang)-a.zp*Math.sin(a.ang);a.zq+=3.1;a.xs=div(a.xq,a.zq);a.ys=div(a.yq,a.zq);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.05*(1-a.flip);","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\n\nflip=flip+1;\nflip=flip*below(flip,2);\n\nphase=sin(n*3)*sin(n*7.9)*sin(n*16.7)*sin(n*63.5)*6;\n\nxp=sin(n+phase)*flip;\nyp=cos(n+phase)*flip;\nzp=0;\n\n//rotate on y during draw\nang=n*2+phase*0.2;\nxq=xp*sin(ang) + zp*cos(ang);\nyq=yp;\nzq=xp*cos(ang) - zp*sin(ang);\n\n//rotation;\nang=time*0.1;\nxp=xq*sin(ang) + zq*cos(ang);\nyp=yq;\nzp=xq*cos(ang) - zq*sin(ang);\n\nang=time*0.17;\nxq=xp;\nyq=yp*sin(ang) + zp*cos(ang);\nzq=yp*cos(ang) - zp*sin(ang);\n\n\n//push into viewspace\nzq=zq+3.1;\n\n\n//project into screenspace\nxs=xq/zq;\nys=yq/zq;\n\n\nx=xs+0.5;\ny=ys*1.3+0.5;\na=(1-flip)*0.05;"},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"a.rg2=0;a.decay_rate=0;a.q12=0;a.q13=0;a.q15=0;a.q1=0;a.rg=0;a.q9=0;a.prev_beat=0;a.is_beat=0;a.q11=0;a.q16=0;a.min_att=0;a.beat=0;a.decay_to=0;a.q2=0;a.q14=0;a.beat_level=0;","frame_eqs_str":"a.wave_r+=.2*(.6*Math.sin(1.517*a.time)+.4*Math.sin(1.58*a.time));a.wave_g+=.2*(.6*Math.sin(1.088*a.time)+.4*Math.sin(1.076*a.time));a.wave_b+=.2*(.6*Math.sin(1.037*a.time)+.4*Math.sin(.922*a.time));a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.11*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.11*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.q1=Math.cos(1.41*a.time);a.q2=a.time+.3*Math.sin(1.47*a.time);a.rg=Math.max(.77*a.rg,.02+.5*\nMath.min(2,1.3*Math.max(0,a.mid_att-1)));a.q9=a.rg*above(a.rg,2*a.rg2);a.rg2=Math.max(a.rg,.8*a.rg2);a.monitor=a.q9;a.q11=a.aspectx;a.q12=a.aspecty;a.q13=a.wave_r;a.q14=a.wave_g;a.q15=a.wave_b;a.q16=.01*Math.floor(rand(100));a.decay_rate=pow(.993,a.fps);a.min_att=2.5;a.decay_to=1;a.beat=div(a.bass,Math.max(a.min_att,a.bass_att));a.beat=Math.max(a.beat,div(a.mid,Math.max(a.min_att,a.mid_att)));a.beat=Math.max(a.beat,div(a.treb,Math.max(a.min_att,a.treb_att)));a.beat=Math.max(a.beat,(a.prev_beat-a.decay_to)*\na.decay_rate+a.decay_to);a.beat_level=24*(a.beat-a.prev_beat);a.is_beat=above(a.beat_level,.5);a.prev_beat=a.beat;a.q1=a.is_beat;","pixel_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.200*( 0.60*sin(1.517*time) + 0.40*sin(1.580*time) );\nwave_g = wave_g + 0.200*( 0.60*sin(1.088*time) + 0.40*sin(1.076*time) );\nwave_b = wave_b + 0.200*( 0.60*sin(1.037*time) + 0.40*sin(0.922*time) );\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\ncx = cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\ncy = cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\nq1=cos(1.41*time);\nq2=time + 0.3*sin(time*1.47);\n\n// this is a great way to respond to beats:\n// once you get one, let it decay at a constant rate!!\nrg = max(rg*0.77, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\nq9 = rg * above(rg,rg2*2);\nrg2 = max(rg, rg2*0.8);\n\n//zoom = zoom + q9*0.1;\nmonitor = q9;\n\n// for custom shape 1:\nq11 = aspectx;\nq12 = aspecty;\nq13 = wave_r;\nq14 = wave_g;\nq15 = wave_b;\nq16 = int(rand(100))*0.01;\n\n// custom beat detection code: (fps-independent; quiet songs don't freak out)\ndecay_rate = pow(0.993, fps);  // lower # = more hasty to declare a beat\nmin_att    = 2.5;               // lower # = quieter songs can declare beats\ndecay_to   = 1.0;               // lower # = more hasty to declare a beat\nbeat =           bass/max(min_att,bass_att);\nbeat = max(beat, mid /max(min_att,mid_att ));\nbeat = max(beat, treb/max(min_att,treb_att));\nbeat = max( beat, (prev_beat-decay_to)*decay_rate + decay_to );\nbeat_level     = (beat - prev_beat - 0.0)*24;\nis_beat = above(beat_level, 0.5);\nprev_beat = beat;\n  // put your beat responses HERE:\n  //wave_a = beat_level + 1.95;\n  q1 = is_beat;   //drives shape #1","pixel_eqs_eel":"//rot=rot+0.05*sin(rad*13.5 + q2*1.3 + q*1.31);\n//zoom=zoom+0.05*sin(ang*10.0 + rad*7.5 + q2*1.63 + q);","warp":" shader_body { \n  vec3 ret_1;\n  vec4 tmpvar_2;\n  tmpvar_2 = ((texture (sampler_noise_lq, (rand_frame.xy + \n    ((uv * texsize_noise_lq.zw) * texsize.xy)\n  )) * 2.0) - 1.0);\n  ret_1 = (texture (sampler_pw_main, (uv + (\n    (tmpvar_2.zw * texsize.zw)\n   * 0.5))).xyz + ((0.59 - \n    (0.2 * rad)\n  ) * tmpvar_2.xyz));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 0.0;\n  tmpvar_3.xy = roam_sin.xy;\n  vec3 tmpvar_4;\n  tmpvar_4.z = 0.0;\n  tmpvar_4.xy = roam_cos.yx;\n  vec3 tmpvar_5;\n  tmpvar_5.z = 0.0;\n  tmpvar_5.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\n  tmpvar_5.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\n  ret_1 = (ret_1 * (texture (sampler_noisevol_hq, (\n    (vec3(0.05, 0.05, 0.0) * (((uv.xyy + \n      (tmpvar_5 * 0.5)\n    ) * texsize.xyy) * texsize_noisevol_hq.zww))\n   + \n    (vec3(0.0, 0.0, 0.2) * time)\n  )) * 1.5).xyz);\n  vec3 tmpvar_6;\n  tmpvar_6 = clamp (((\n    (ret_1 - 0.5)\n   * 3.0) + 0.25), 0.0, 1.0);\n  ret_1.x = tmpvar_6.x;\n  ret_1.yz = tmpvar_6.xx;\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = ret_1;\n  ret = tmpvar_7.xyz;\n }","comp":" shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz + ((\n    (texture (sampler_blur1, uv).xyz * scale1)\n   + bias1) * 0.4));\n  vec3 tmpvar_2;\n  tmpvar_2.z = 0.0;\n  tmpvar_2.xy = roam_sin.xy;\n  vec3 tmpvar_3;\n  tmpvar_3.z = 0.0;\n  tmpvar_3.xy = roam_cos.yx;\n  vec3 tmpvar_4;\n  tmpvar_4.z = 0.0;\n  tmpvar_4.x = dot (tmpvar_2, vec3(0.32, 0.49, 0.29));\n  tmpvar_4.y = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\n  ret_1 = (ret_1 * texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * \n    (((uv.xyy + (tmpvar_4 * 0.5)) * texsize.xyy) * texsize_noisevol_hq.zww)\n  ) + (vec3(0.0, 0.0, 0.2) * time))).xyz);\n  vec3 tmpvar_5;\n  tmpvar_5.x = (1.7 - (bass * 0.5));\n  tmpvar_5.y = (1.7 - (treb * 0.5));\n  tmpvar_5.z = (1.7 - (mid * 0.5));\n  vec3 tmpvar_6;\n  tmpvar_6 = pow (pow (ret_1, vec3(0.5, 0.8, 1.7)), tmpvar_5);\n  ret_1 = tmpvar_6;\n  vec4 tmpvar_7;\n  tmpvar_7.w = 1.0;\n  tmpvar_7.xyz = tmpvar_6;\n  ret = tmpvar_7.xyz;\n }","warp_hlsl":"shader_body\n{\n    float4 N = tex2D(sampler_noise_lq, rand_frame.xy + uv*\n                             texsize_noise_lq.zw*texsize.xy )*2-1;\n    // sample previous frame\n    ret = tex2D( sampler_pw_main, uv + N.zw*texsize.zw*0.5 ).xyz;\n    ret += (0.59-0.2*rad)*N.xyz;\n\nfloat4 noise2 = tex3D(sampler_noisevol_hq, \n                      ((uv.xyy+float3(lum(roam_sin.xy),\n                                           lum(roam_cos.yx),\n                                           0)*0.5\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      float3(1,1,0)*0.05 + \n                      time*float3(0,0,1)*0.2 \n                     );\nret *= (noise2)*1.5; \n    ret = saturate((ret-0.5)*3 + 0.25);\n    ret.yz = ret.x;    \n}","comp_hlsl":"shader_body\n{\n    ret = tex2D(sampler_main, uv).xyz;\n    ret += GetBlur1(uv)*0.4;\n \n    // palettize:\nfloat4 noise2 = tex3D(sampler_noisevol_hq, \n                      ((uv.xyy+float3(lum(roam_sin.xy),\n                                           lum(roam_cos.yx),\n                                           0)*0.5\n                       )*texsize.xyy*texsize_noisevol_hq.zww\n                      ).xyz*\n                      float3(1,1,0)*0.05 + \n                      time*float3(0,0,1)*0.2 \n                     );\nret *= (noise2)*1; \n    ret = pow(ret, float3(0.5, 0.8, 1.7));\n    ret = pow(ret, float3(1.7-(bass*.5), 1.7-(treb*.5), 1.7-(mid*.5)));\n   \n    //ret.xyz *= 2; // a little bit of overbright\n}\n\n"}