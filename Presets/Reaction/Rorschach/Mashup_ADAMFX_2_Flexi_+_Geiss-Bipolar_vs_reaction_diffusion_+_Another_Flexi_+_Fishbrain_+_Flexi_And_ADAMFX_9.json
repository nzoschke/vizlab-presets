{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"echo_orient":1,"wave_brighten":0,"wave_a":100,"wave_scale":0.081,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":1.00051,"warp":0.00002,"wave_b":0,"ob_size":0.001,"ob_r":0.34,"ob_g":0.34,"ob_b":0.34,"ob_a":0.56,"ib_size":0.001,"ib_r":0.34,"ib_g":0.34,"ib_b":0.34,"ib_a":0.96,"mv_x":64,"mv_y":48,"mv_l":5,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"a.trebdiff=0;a.meanbass_att=0;a.q1=0;a.meanbass=0;a.lastbeat=0;a.beatrate=0;a.peakbass_att=0;a.runmeanbass=0;a.meantreb=0;a.volume=0;a.beat=0;a.meanmid=0;a.middiff=0;a.bassdiff=0;a.oldy=.4;","frame_eqs_str":"a.ib_g=.2*Math.abs(Math.sin(.1*a.time));a.ib_b=.2*Math.abs(Math.sin(.3*a.time));a.ib_r=.2*Math.abs(Math.sin(.7*a.time));a.ob_b=Math.abs(Math.sin(100*a.time+a.time));a.ob_r=Math.abs(Math.sin(512*a.time+a.time));a.ob_g=Math.abs(Math.sin(10*a.time+a.time));a.ib_b=Math.abs(Math.sin(10*a.time+a.time));a.ib_r=Math.abs(Math.sin(512*a.time+a.time));a.ib_g=Math.abs(Math.sin(100*a.time+a.time));a.meanbass=.01*(99*a.meanbass+a.bass);a.meantreb=.01*(99*a.meantreb+a.treb);a.meanmid=.01*\n(99*a.meanmid+a.mid);a.bassdiff=15*(a.bass-a.meanbass);a.trebdiff=15*(a.treb-a.meantreb);a.middiff=15*(a.mid-a.meanmid);a.bassdiff*=above(a.bassdiff,0);a.trebdiff*=above(a.trebdiff,0);a.middiff*=above(a.middiff,0);a.ob_g=Math.min(1,Math.max(0,.2*a.trebdiff));a.ob_r=Math.min(1,Math.max(0,.2*a.middiff));a.ob_b=Math.min(1,Math.max(0,.2*a.bassdiff));a.volume=.3*a.bass+a.mid;a.beatrate=equal(a.beatrate,0)+(1-equal(a.beatrate,0))*(below(a.volume,.01)+(1-below(a.volume,.01))*a.beatrate);a.lastbeat+=equal(a.lastbeat,\n0)*a.time;a.meanbass_att=.1*(9*a.meanbass_att+a.bass_att);a.runmeanbass=div(2*a.runmeanbass+a.bass_att,3);a.peakbass_att=Math.max(a.bass_att,a.peakbass_att);a.beat=above(a.volume,.8)*above(a.bass_att,1.1*a.runmeanbass)*below(a.peakbass_att-a.bass_att,.05*a.peakbass_att)*above(a.time-a.lastbeat,.1+.5*(a.beatrate-.1));a.beatrate=Math.max(.00001<Math.abs(a.beat)?.00001<Math.abs(below(a.time-a.lastbeat,2*a.beatrate))?.1*(9*a.beatrate+a.time-a.lastbeat):a.beatrate:a.beatrate,.1);a.peakbass_att=a.beat*\na.bass_att+(1-a.beat)*a.peakbass_att*(.95*above(a.time-a.lastbeat,2*a.beatrate)+.995*(1-above(a.time-a.lastbeat,2*a.beatrate)));a.lastbeat=a.beat*a.time+(1-a.beat)*a.lastbeat;a.peakbass_att=Math.max(a.peakbass_att,1.1*a.meanbass_att);a.q1=a.beat;","pixel_eqs_str":"a.cx=Math.sin(10*a.x+a.time+a.bass);a.cy=Math.sin(10*a.y+a.time+a.treb);a.rot+=.012*Math.sin(a.x*a.y*10+.2*a.time);","init_eqs_eel":"oldy=.4;","frame_eqs_eel":"ib_g = abs(sin(0.1*time))*0.2;\nib_b = abs(sin(0.3*time))*0.2;\nib_r = abs(sin(0.7*time))*0.2;\n\n\nob_b=abs(sin(time*100+time));\nob_r=abs(sin(time*512+time));\nob_g=abs(sin(time*10+time));\nib_b=abs(sin(time*10+time));\nib_r=abs(sin(time*512+time));\nib_g=abs(sin(time*100+time));\n\n\n\n\nmeanbass = 0.01*(meanbass*99+bass);\nmeantreb = 0.01*(meantreb*99+treb);\nmeanmid = 0.01*(meanmid*99+mid);\nbassdiff = (bass - meanbass)*15;\ntrebdiff = (treb - meantreb)*15;\nmiddiff = (mid - meanmid)*15;\nbassdiff = above(bassdiff,0)*bassdiff;\ntrebdiff = above(trebdiff,0)*trebdiff;\nmiddiff = above(middiff,0)*middiff;\n\nob_g = min(1,max(0,0.2*trebdiff));\nob_r = min(1,max(0,0.2*middiff));\nob_b = min(1,max(0,0.2*bassdiff));\n\n\n\n\n//Thanks to krash for beat detection (modified)\nvolume = 0.3*bass+mid;\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\nlastbeat = lastbeat + equal(lastbeat,0)*time;\nmeanbass_att = 0.1*(meanbass_att*9 + bass_att);\nrunmeanbass =(runmeanbass*2 + bass_att)/3;\npeakbass_att = max(bass_att,peakbass_att);\nbeat = above(volume,0.8)*above(bass_att,runmeanbass*1.1)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.95 + (1-above(time - lastbeat, 2*beatrate))*0.995);\nlastbeat = beat*time + (1-beat)*lastbeat;\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\nq1 = beat;","pixel_eqs_eel":"cx =sin(x*10+time+bass);\ncy =sin(y*10+time+treb);\nrot=rot+.012*sin(x*y*10+time*.2);//*sin(bass*2)*4;","warp":" shader_body { \n  vec3 ret_1;\n  ret_1 = texture (sampler_main, uv).xyz;\n  ret_1 = (ret_1 + ((ret_1 - \n    ((texture (sampler_blur3, uv).xyz * scale3) + bias3)\n  ) * 0.35));\n  ret_1 = (ret_1 - 0.004);\n  ret_1 = (ret_1 + ((texture (sampler_noise_lq, \n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 0.4)) + rand_frame.xy)\n  ).xyz - 0.5) * 0.18));\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }","comp":" shader_body { \n  vec3 ret_1;\n  vec2 tmpvar_2;\n  float tmpvar_3;\n  tmpvar_3 = -(q8);\n  float tmpvar_4;\n  tmpvar_4 = (uv.x - 0.5);\n  float tmpvar_5;\n  tmpvar_5 = (uv.y - 0.5);\n  tmpvar_2.x = (((\n    (tmpvar_4 * cos((tmpvar_3 * 0.29)))\n   + \n    (tmpvar_5 * sin((tmpvar_3 * 0.29)))\n  ) * 0.8) + 0.5);\n  tmpvar_2.y = (((\n    (-(tmpvar_4) * sin((tmpvar_3 * 0.29)))\n   + \n    (tmpvar_5 * cos((tmpvar_3 * 0.29)))\n  ) * 0.8) + 0.5);\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, (\n    (0.5 - uv)\n   + 0.5)).xyz, vec3(0.5, 0.5, 0.5)) * 0.8);\n  ret_1 = (ret_1 + (texture (sampler_main, (tmpvar_2 * q9)).xyz * 0.2));\n  ret_1 = (1.0 - ((ret_1 * \n    (1.0 - ret_1)\n  ) * 4.0));\n  vec4 tmpvar_6;\n  tmpvar_6.w = 1.0;\n  tmpvar_6.xyz = ret_1;\n  ret = tmpvar_6.xyz;\n }","warp_hlsl":"shader_body\n{\n\n    // sample previous frame\n    ret.xyz = tex2D( sampler_main, uv ).xyz;\n\n      // take the difference between the crisp and blurred images,\n      // then add it back into the image.  Creates spots and stripes over time.\n      ret.xyz += (ret - GetBlur3(uv))*0.35;\n      ret.xyz -= 0.004;\n\n      // add noise:\n      float2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw * 0.4 + rand_frame.xy;\n      ret.xyz += (tex2D(sampler_noise_lq, dither_uv).xyz-0.5)*0.18;\n\n      // desaturate over time, to keep the globs white\n      ret.xyz = lerp(ret.xyz, lum(ret.xyz), 0.2);\n}","comp_hlsl":"shader_body\n{\n    \n    //rotate texture cords\n    float texRotU2 = (uv[0] - 0.5)*cos(-q8*0.29) + (uv[1] - 0.5)*sin(-q8*0.29);\n    float texRotv2 = -(uv[0] - 0.5)*sin(-q8*0.29) + (uv[1] - 0.5)*cos(-q8*0.29);\n\n\t\n\t    float2 uv2 = float2(texRotU2*0.8 +0.5, texRotv2*0.8 + 0.5);\n\n    float2 uv_echo = (uv - 0.5)*1.000*float2(-1,-1) + 0.5;\n    ret = lerp( tex2D(sampler_main, uv).xyz, \n                tex2D(sampler_main, uv_echo).xyz, \n                0.50 \n              )*0.8;\n    \n    ret += tex2D(sampler_main, uv2*q9).xyz*0.2;\n    ret *= 1.00; //gamma\n    ret = 1 - ret*(1 - ret)*4; //invert\n}"}